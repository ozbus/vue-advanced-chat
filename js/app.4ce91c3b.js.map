{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///../src/ChatWindow/SvgIcon.vue?98a5","webpack:///../src/ChatWindow/ChatLoader.vue?c457","webpack:///./src/App.vue?dcc2","webpack:///./src/firestore/index.js","webpack:///./src/ChatContainer.vue?c71d","webpack:///./src/utils/dates.js","webpack:///../src/ChatWindow/ChatWindow.vue?7f4c","webpack:///../src/ChatWindow/RoomsList.vue?29d7","webpack:///../src/ChatWindow/ChatLoader.vue?e779","webpack:///../src/ChatWindow/ChatLoader.vue","webpack:///../src/ChatWindow/ChatLoader.vue?343e","webpack:///../src/ChatWindow/ChatLoader.vue?b0e1","webpack:///../src/utils/filterItems.js","webpack:///../src/ChatWindow/SvgIcon.vue?9bd3","webpack:///../src/ChatWindow/SvgIcon.vue","webpack:///../src/ChatWindow/SvgIcon.vue?f610","webpack:///../src/ChatWindow/SvgIcon.vue?a33d","webpack:///../src/ChatWindow/RoomsList.vue","webpack:///../src/ChatWindow/RoomsList.vue?ef85","webpack:///../src/ChatWindow/RoomsList.vue?6603","webpack:///../src/ChatWindow/MessagesList.vue?c5ad","webpack:///../src/ChatWindow/ChatMessage.vue?8d09","webpack:///../src/ChatWindow/ChatMessage.vue","webpack:///../src/ChatWindow/ChatMessage.vue?f604","webpack:///../src/ChatWindow/ChatMessage.vue?03c8","webpack:///../src/ChatWindow/EmojiPicker.vue?6040","webpack:///../src/ChatWindow/EmojiPicker.vue","webpack:///../src/ChatWindow/EmojiPicker.vue?4fe9","webpack:///../src/ChatWindow/EmojiPicker.vue?54f4","webpack:///../src/ChatWindow/MessagesList.vue","webpack:///../src/ChatWindow/MessagesList.vue?c119","webpack:///../src/ChatWindow/MessagesList.vue?a8e8","webpack:///../src/locales/index.js","webpack:///../src/themes/index.js","webpack:///../src/ChatWindow/ChatWindow.vue","webpack:///../src/ChatWindow/ChatWindow.vue?9b52","webpack:///../src/ChatWindow/ChatWindow.vue?c7d7","webpack:///../src/ChatWindow/index.js","webpack:///src/ChatContainer.vue","webpack:///./src/ChatContainer.vue?e975","webpack:///./src/ChatContainer.vue","webpack:///src/App.vue","webpack:///./src/App.vue?a7d1","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/App.vue?f446","webpack:///../src/utils/roomValidation.js","webpack:///../src/ChatWindow/ChatWindow.vue?3605","webpack:///../src/ChatWindow/EmojiPicker.vue?7c12","webpack:///./src/assets/logo.svg","webpack:///./src/ChatContainer.vue?6b82","webpack:///../src/ChatWindow/RoomsList.vue?eea1","webpack:///../src/ChatWindow/MessagesList.vue?1dde","webpack:///../src/ChatWindow/ChatMessage.vue?b3a5"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","staticClass","_v","directives","rawName","expression","on","$event","$$selectedVal","Array","filter","target","options","selected","map","val","_value","currentUserId","multiple","_l","user","_id","domProps","_s","username","theme","attrs","_e","staticRenderFns","config","JSON","parse","process","app","firebase","db","storageRef","ref","usersRef","collection","roomsRef","filesRef","child","deleteDbField","firestore","FieldValue","serverTimestamp","preventDefault","createRoom","composing","addRoomUsername","disableForm","addNewRoom","addRoomUser","invitedUsername","inviteRoomId","deleteRoomUser","removeUserId","removeRoomId","rooms","loadingRooms","messages","messagesLoaded","menuActions","fetchMessages","sendMessage","editMessage","deleteMessage","openFile","addRoom","menuActionHandler","messageActionHandler","parseTimestamp","timestamp","format","date","seconds","Date","zeroPad","getHours","getMinutes","month","year","day","Intl","DateTimeFormat","num","pad","String","padStart","isSameDay","d1","d2","getFullYear","getMonth","getDate","style","height","cssVars","room","fetchRoom","messageActions","showFiles","showEmojis","textMessages","SEARCH","searchRoom","roomId","class","selectedRoomId","openRoom","background","roomName","lastMessage","new","content","component","items","prop","v","toLowerCase","normalize","replace","indexOf","svgId","svgItem","find","item","path","menuOpened","action","title","loadingMessages","MESSAGES_EMPTY","CONVERSATION_STARTED","loadMoreMessages","slot","message","editedMessage","users","$refs","roomFooter","newMessages","addNewMessage","scrollToBottom","isImageCheck","messageReply","file","url","resetMessage","resetImageFile","imageFile","imageDimensions","width","TYPE_MESSAGE","autoGrow","type","_k","keyCode","ctrlKey","shiftKey","altKey","metaKey","emojiOpened","addEmoji","launchFilePicker","staticStyle","onFileChange","files","inputDisabled","newMessage","NEW_MESSAGES","sender_id","onHoverMessage","onLeaveMessage","isMessageHover","deleted","roomUsers","replyMessage","replyUsername","MESSAGE_DELETED","isImageLoading","imageHover","stopPropagation","edited","openOptions","filteredMessageActions","top","menuOptionsHeight","search","append","scopedSlots","_u","fn","clickEvent","events","click","openEmoji","emojis","insert","emojiGroup","category","emoji","emojiName","defaultThemeColors","light","general","color","backgroundInput","colorPlaceholder","colorCaret","colorSpinner","borderStyle","backgroundScrollIcon","header","footer","borderStyleInput","borderInputSelected","backgroundReply","sidemenu","backgroundHover","backgroundActive","colorActive","borderColorSearch","dropdown","backgroundMe","backgroundDeleted","colorDeleted","colorUsername","colorTimestamp","backgroundDate","colorDate","colorReplyUsername","colorReply","backgroundImage","colorNewMessages","colorMessage","colorNewDot","icons","add","menu","close","closeImage","paperclip","closeOutline","send","sendDisabled","document","pencil","checkmark","eye","dropdownScroll","dark","cssThemeVars","ChatWindow","configurable","Vue","productionTip","render","h","App","$mount","roomsValid","obj","roomsValidate","validate","props","every","validType","isArray","partcipantsValid","participantsValidate"],"mappings":"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CA,OAIa,M,wlBCwKf,QACA,qBACA,YACA,oBACA,aACA,eACA,UACA,gBAGA,YACA,4BAGA,OACA,+BACA,kCACA,0CACA,qCACA,wCACA,qCACA,sCACA,wCAGA,KAzBA,WA0BA,OACA,WACA,iBACA,kBACA,mBACA,mBACA,UACA,eACA,6CACA,cACA,eACA,cACA,iBAIA,QA1CA,WA0CA,WACA,oBAEA,gDACA,+CAGA,SACA,8CACA,uCACA,aACA,2BACA,iDAIA,OACA,gBADA,SACA,GACA,0BACA,sBAEA,KALA,WAMA,wBACA,qBAEA,SATA,SASA,KACA,6DACA,uBAEA,6BACA,uBACA,oBACA,gBACA,GAGA,mBACA,4BACA,WACA,wBACA,mDAGA,eA3BA,SA2BA,GACA,6BACA,mDAEA,UA/BA,WA+BA,WACA,uBACA,sBACA,8CAEA,mBACA,kCACA,oCAEA,MAIA,UACA,eADA,WAEA,uEAEA,oBAJA,WAKA,kDAEA,cAPA,WAQA,+BAIA,SACA,cADA,SACA,GACA,0BAEA,aAJA,WAIA,WACA,yBACA,gBACA,sBACA,uBACA,eACA,oBACA,oBACA,sDAEA,eAdA,WAeA,oBACA,6BACA,eACA,sBAEA,kBApBA,WAqBA,gDAEA,cAvBA,WAwBA,oCAEA,eA1BA,WA2BA,wCAEA,YA7BA,YA8BA,kCAEA,wBACA,uDACA,0BACA,iCACA,+BACA,eACA,iCAIA,0BACA,4BACA,eACA,iCAIA,sBAEA,iBAnDA,SAmDA,GACA,0CACA,oBAEA,qBACA,6BAEA,qBA1DA,YA0DA,2BACA,eACA,mBACA,4BACA,kBACA,2BACA,oBACA,yCACA,QACA,8CAGA,aAtEA,SAsEA,GACA,oBACA,qBAEA,YA1EA,SA0EA,cACA,oBACA,4BACA,iBACA,0DACA,uBAEA,8EAEA,eAnFA,WAoFA,6DACA,oDAEA,SAvFA,SAuFA,GACA,mCAEA,eA1FA,SA0FA,GACA,iBACA,sCAEA,SA9FA,SA8FA,GACA,gBACA,sBAEA,iBAlGA,WAmGA,yBACA,yBAEA,aAtGA,SAsGA,GAtGA,mGAuGA,sBACA,OACA,yBAzGA,kCA0GA,+CA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","file":"js/app.4ce91c3b.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/vue-advanced-chat/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../demo/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../demo/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../demo/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../demo/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./SvgIcon.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../demo/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../demo/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../demo/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../demo/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./SvgIcon.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../demo/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../demo/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../demo/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../demo/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../demo/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatLoader.vue?vue&type=style&index=0&id=13352d18&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../demo/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../demo/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../demo/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../demo/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../demo/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatLoader.vue?vue&type=style&index=0&id=13352d18&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"app-container\"},[_c('span',{staticClass:\"user-logged\"},[_vm._v(\"Logged as\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.currentUserId),expression:\"currentUserId\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.currentUserId=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.users),function(user){return _c('option',{key:user._id,domProps:{\"value\":user._id}},[_vm._v(\" \"+_vm._s(user.username)+\" \")])}),0),_c('div',{staticClass:\"button-theme\"},[_c('button',{staticClass:\"button-light\",on:{\"click\":function($event){_vm.theme = 'light'}}},[_vm._v(\"Light\")]),_c('button',{staticClass:\"button-dark\",on:{\"click\":function($event){_vm.theme = 'dark'}}},[_vm._v(\"Dark\")])]),(_vm.showChat)?_c('chat-container',{attrs:{\"currentUserId\":_vm.currentUserId,\"theme\":_vm.theme}}):_vm._e()],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import * as app from 'firebase/app'\nimport 'firebase/firestore'\nimport 'firebase/storage'\n\nconst config =\n\tprocess.env.NODE_ENV === 'development'\n\t\t? JSON.parse(process.env.VUE_APP_FIREBASE_CONFIG)\n\t\t: JSON.parse(process.env.VUE_APP_FIREBASE_CONFIG_PUBLIC)\n\napp.initializeApp(config)\n\nexport const firebase = app\nexport const db = app.firestore()\nexport const storageRef = app.storage().ref()\n\nexport const usersRef = db.collection('users')\nexport const roomsRef = db.collection('chatRooms')\n\nexport const filesRef = storageRef.child('files')\n\nexport const dbTimestamp = firebase.firestore.FieldValue.serverTimestamp()\nexport const deleteDbField = firebase.firestore.FieldValue.delete()\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"window-container\"},[_c('div',{staticClass:\"chat-forms\"},[(_vm.addNewRoom)?_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.createRoom($event)}}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.addRoomUsername),expression:\"addRoomUsername\"}],attrs:{\"type\":\"text\",\"placeholder\":\"Add username to create a room\"},domProps:{\"value\":(_vm.addRoomUsername)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.addRoomUsername=$event.target.value}}}),_c('button',{attrs:{\"type\":\"submit\",\"disabled\":_vm.disableForm || !_vm.addRoomUsername}},[_vm._v(\" Create Room \")]),_c('button',{staticClass:\"button-cancel\",on:{\"click\":function($event){_vm.addNewRoom = false}}},[_vm._v(\" Cancel \")])]):_vm._e(),(_vm.inviteRoomId)?_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.addRoomUser($event)}}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.invitedUsername),expression:\"invitedUsername\"}],attrs:{\"type\":\"text\",\"placeholder\":\"Add user to the room\"},domProps:{\"value\":(_vm.invitedUsername)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.invitedUsername=$event.target.value}}}),_c('button',{attrs:{\"type\":\"submit\",\"disabled\":_vm.disableForm || !_vm.invitedUsername}},[_vm._v(\" Add User \")]),_c('button',{staticClass:\"button-cancel\",on:{\"click\":function($event){_vm.inviteRoomId = null}}},[_vm._v(\" Cancel \")])]):_vm._e(),(_vm.removeRoomId)?_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.deleteRoomUser($event)}}},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.removeUserId),expression:\"removeUserId\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.removeUserId=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"default\":\"\",\"value\":\"\"}},[_vm._v(\"Select User\")]),_vm._l((_vm.removeUsers),function(user){return _c('option',{key:user._id,domProps:{\"value\":user._id}},[_vm._v(\" \"+_vm._s(user.username)+\" \")])})],2),_c('button',{attrs:{\"type\":\"submit\",\"disabled\":_vm.disableForm || !_vm.removeUserId}},[_vm._v(\" Remove User \")]),_c('button',{staticClass:\"button-cancel\",on:{\"click\":function($event){_vm.removeRoomId = null}}},[_vm._v(\" Cancel \")])]):_vm._e()]),_c('chat-window',{attrs:{\"height\":\"calc(100vh - 80px)\",\"theme\":_vm.theme,\"rooms\":_vm.rooms,\"loadingRooms\":_vm.loadingRooms,\"messages\":_vm.messages,\"messagesLoaded\":_vm.messagesLoaded,\"menuActions\":_vm.menuActions},on:{\"fetchMessages\":_vm.fetchMessages,\"sendMessage\":_vm.sendMessage,\"editMessage\":_vm.editMessage,\"deleteMessage\":_vm.deleteMessage,\"openFile\":_vm.openFile,\"addRoom\":_vm.addRoom,\"menuActionHandler\":_vm.menuActionHandler,\"messageActionHandler\":_vm.messageActionHandler}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const parseTimestamp = (timestamp, format = '') => {\n\tif (!timestamp) return\n\n\tconst date = timestamp.seconds\n\t\t? new Date(timestamp.seconds * 1000)\n\t\t: timestamp\n\n\tif (format === 'HH:mm') {\n\t\treturn `${zeroPad(date.getHours(), 2)}:${zeroPad(date.getMinutes(), 2)}`\n\t} else if (format === 'DD MMMM YYYY') {\n\t\tconst options = { month: 'long', year: 'numeric', day: 'numeric' }\n\t\treturn `${new Intl.DateTimeFormat('en-GB', options).format(date)}`\n\t} else if (format === 'DD/MM/YY') {\n\t\tconst options = { month: 'numeric', year: 'numeric', day: 'numeric' }\n\t\treturn `${new Intl.DateTimeFormat('en-GB', options).format(date)}`\n\t}\n\treturn date\n}\n\nconst zeroPad = (num, pad) => {\n\treturn String(num).padStart(pad, '0')\n}\n\nexport const isSameDay = (d1, d2) => {\n\treturn (\n\t\td1.getFullYear() === d2.getFullYear() &&\n\t\td1.getMonth() === d2.getMonth() &&\n\t\td1.getDate() === d2.getDate()\n\t)\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-window\",style:([{ height: _vm.height }, _vm.cssVars])},[_c('div',{staticClass:\"chat-container\"},[_c('rooms-list',{attrs:{\"rooms\":_vm.rooms,\"loadingRooms\":_vm.loadingRooms,\"room\":_vm.room,\"textMessages\":_vm.t},on:{\"fetchRoom\":_vm.fetchRoom,\"addRoom\":_vm.addRoom}}),_c('messages-list',{attrs:{\"room\":_vm.room,\"messages\":_vm.messages,\"messagesLoaded\":_vm.messagesLoaded,\"menuActions\":_vm.menuActions,\"messageActions\":_vm.messageActions,\"showFiles\":_vm.showFiles,\"showEmojis\":_vm.showEmojis,\"textMessages\":_vm.t},on:{\"fetchMessages\":_vm.fetchMessages,\"sendMessage\":_vm.sendMessage,\"editMessage\":_vm.editMessage,\"deleteMessage\":_vm.deleteMessage,\"openFile\":_vm.openFile,\"menuActionHandler\":_vm.menuActionHandler,\"messageActionHandler\":_vm.messageActionHandler}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"rooms-container app-border-r\"},[_c('div',{staticClass:\"box-search\"},[_c('div',{staticClass:\"icon-search\"},[_c('svg-icon',{attrs:{\"name\":\"search\"}})],1),_c('input',{attrs:{\"type\":\"text\",\"placeholder\":_vm.textMessages.SEARCH,\"autocomplete\":\"off\"},on:{\"input\":_vm.searchRoom}}),_c('div',{staticClass:\"svg-button\",on:{\"click\":_vm.addRoom}},[_c('svg-icon',{attrs:{\"name\":\"add\"}})],1)]),_c('chat-loader',{attrs:{\"show\":_vm.loadingRooms}}),(!_vm.loadingRooms && !_vm.rooms.length)?_c('div',{staticClass:\"rooms-empty\"},[_vm._v(\" No rooms \")]):_vm._e(),(!_vm.loadingRooms)?_c('div',{staticClass:\"room-list\"},_vm._l((_vm.filteredRooms),function(room){return _c('div',{key:room.roomId,staticClass:\"room-item\",class:{ 'room-selected': _vm.selectedRoomId === room.roomId },on:{\"click\":function($event){return _vm.openRoom(room)}}},[(room.avatar)?_c('div',{staticClass:\"room-avatar\",style:({ background: (\"url(\" + (room.avatar) + \")\") })}):_vm._e(),_c('div',{staticClass:\"name-container\"},[_c('div',{staticClass:\"title-container\"},[_c('div',{staticClass:\"room-name\"},[_vm._v(_vm._s(room.roomName))]),(room.lastMessage)?_c('div',{staticClass:\"room-name text-date\"},[_vm._v(\" \"+_vm._s(room.lastMessage.timestamp)+\" \")]):_vm._e()]),(room.lastMessage)?_c('div',{staticClass:\"room-name text-last\",class:{ 'message-new': room.lastMessage.new }},[(room.lastMessage.seen)?_c('span',[_c('svg-icon',{staticClass:\"icon-check\",attrs:{\"name\":\"checkmark\"}})],1):_vm._e(),(room.lastMessage.new)?_c('span',{staticClass:\"dot-new\"}):_vm._e(),_c('span',[_vm._v(_vm._s(room.lastMessage.content))])]):_vm._e()])])}),0):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"fade-spinner\",\"appear\":\"\"}},[(_vm.show)?_c('div',{staticClass:\"container-center\"},[_c('div',{attrs:{\"id\":\"circle\"}})]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<transition name=\"fade-spinner\" appear>\n\t\t<div class=\"container-center\" v-if=\"show\">\n\t\t\t<div id=\"circle\"></div>\n\t\t</div>\n\t</transition>\n</template>\n\n<script>\nexport default {\n\tname: 'chat-loader',\n\tprops: ['show']\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.container-center {\n\tposition: absolute;\n\tleft: 50%;\n\ttop: 50%;\n\ttransform: translate(-50%, -50%);\n\tz-index: 9999;\n}\n\n#circle {\n\theight: 32px;\n\twidth: 32px;\n\tborder: 3px rgba(0, 0, 0, 0.25) solid;\n\tborder-top: 3px var(--chat-color-spinner) solid;\n\tborder-right: 3px var(--chat-color-spinner) solid;\n\tborder-bottom: 3px var(--chat-color-spinner) solid;\n\tborder-radius: 50%;\n\t-webkit-animation: spin 1s infinite linear;\n\tanimation: spin 1s infinite linear;\n}\n\n@-webkit-keyframes spin {\n\tfrom {\n\t\t-webkit-transform: rotate(0deg);\n\t\ttransform: rotate(0deg);\n\t}\n\tto {\n\t\t-webkit-transform: rotate(359deg);\n\t\ttransform: rotate(359deg);\n\t}\n}\n@keyframes spin {\n\tfrom {\n\t\t-webkit-transform: rotate(0deg);\n\t\ttransform: rotate(0deg);\n\t\t-webkit-transform: rotate(0deg);\n\t\ttransform: rotate(0deg);\n\t}\n\tto {\n\t\t-webkit-transform: rotate(359deg);\n\t\ttransform: rotate(359deg);\n\t\t-webkit-transform: rotate(359deg);\n\t\ttransform: rotate(359deg);\n\t}\n}\n</style>\n","import mod from \"-!../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../demo/node_modules/thread-loader/dist/cjs.js!../../demo/node_modules/babel-loader/lib/index.js!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatLoader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../demo/node_modules/thread-loader/dist/cjs.js!../../demo/node_modules/babel-loader/lib/index.js!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatLoader.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChatLoader.vue?vue&type=template&id=13352d18&scoped=true&\"\nimport script from \"./ChatLoader.vue?vue&type=script&lang=js&\"\nexport * from \"./ChatLoader.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ChatLoader.vue?vue&type=style&index=0&id=13352d18&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"13352d18\",\n  null\n  \n)\n\nexport default component.exports","export default (items, prop, val) => {\n\tif (!val || val === '') return items\n\n\treturn items.filter(v => {\n\t\treturn (\n\t\t\tv[prop]\n\t\t\t\t.toLowerCase()\n\t\t\t\t.normalize('NFD')\n\t\t\t\t.replace(/[\\u0300-\\u036f]/g, '')\n\t\t\t\t.indexOf(\n\t\t\t\t\tval\n\t\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t\t.normalize('NFD')\n\t\t\t\t\t\t.replace(/[\\u0300-\\u036f]/g, '')\n\t\t\t\t) > -1\n\t\t)\n\t})\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"version\":\"1.1\",\"width\":\"24\",\"height\":\"24\",\"viewBox\":\"0 0 24 24\"}},[_c('path',{attrs:{\"id\":_vm.svgId,\"d\":_vm.svgItem.find(function (item) { return item.name === _vm.name; }).path}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<svg\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\txmlns:xlink=\"http://www.w3.org/1999/xlink\"\n\t\tversion=\"1.1\"\n\t\twidth=\"24\"\n\t\theight=\"24\"\n\t\tviewBox=\"0 0 24 24\"\n\t>\n\t\t<path :id=\"svgId\" :d=\"svgItem.find(item => item.name === name).path\" />\n\t</svg>\n</template>\n\n<script>\nexport default {\n\tname: 'svg-icon',\n\tprops: ['name', 'path', 'param'],\n\n\tcomputed: {\n\t\tsvgId() {\n\t\t\tconst param = this.param ? '-' + this.param : ''\n\t\t\treturn `chat-icon-${this.name}${param}`\n\t\t}\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\tsvgItem: [\n\t\t\t\t{\n\t\t\t\t\tname: 'search',\n\t\t\t\t\tpath:\n\t\t\t\t\t\t'M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'add',\n\t\t\t\t\tpath:\n\t\t\t\t\t\t'M17,13H13V17H11V13H7V11H11V7H13V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'menu',\n\t\t\t\t\tpath:\n\t\t\t\t\t\t'M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'close',\n\t\t\t\t\tpath:\n\t\t\t\t\t\t'M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'file',\n\t\t\t\t\tpath:\n\t\t\t\t\t\t'M14,17H7V15H14M17,13H7V11H17M17,9H7V7H17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'paperclip',\n\t\t\t\t\tpath:\n\t\t\t\t\t\t'M16.5,6V17.5A4,4 0 0,1 12.5,21.5A4,4 0 0,1 8.5,17.5V5A2.5,2.5 0 0,1 11,2.5A2.5,2.5 0 0,1 13.5,5V15.5A1,1 0 0,1 12.5,16.5A1,1 0 0,1 11.5,15.5V6H10V15.5A2.5,2.5 0 0,0 12.5,18A2.5,2.5 0 0,0 15,15.5V5A4,4 0 0,0 11,1A4,4 0 0,0 7,5V17.5A5.5,5.5 0 0,0 12.5,23A5.5,5.5 0 0,0 18,17.5V6H16.5Z'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'close-outline',\n\t\t\t\t\tpath:\n\t\t\t\t\t\t'M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'send',\n\t\t\t\t\tpath: 'M2,21L23,12L2,3V10L17,12L2,14V21Z'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'emoji',\n\t\t\t\t\tpath:\n\t\t\t\t\t\t'M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'document',\n\t\t\t\t\tpath: 'M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'pencil',\n\t\t\t\t\tpath:\n\t\t\t\t\t\t'M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'checkmark',\n\t\t\t\t\tpath: 'M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'eye',\n\t\t\t\t\tpath:\n\t\t\t\t\t\t'M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'dropdown',\n\t\t\t\t\tpath: 'M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z'\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t}\n}\n</script>\n\n<style>\n#chat-icon-search {\n\tfill: var(--chat-icon-color-search);\n}\n\n#chat-icon-add {\n\tfill: var(--chat-icon-color-add);\n}\n\n#chat-icon-menu {\n\tfill: var(--chat-icon-color-menu);\n}\n\n#chat-icon-close {\n\tfill: var(--chat-icon-color-close);\n}\n\n#chat-icon-close-image {\n\tfill: var(--chat-icon-color-close-image);\n}\n\n#chat-icon-file {\n\tfill: var(--chat-icon-color-file);\n}\n\n#chat-icon-paperclip {\n\tfill: var(--chat-icon-color-paperclip);\n}\n\n#chat-icon-close-outline {\n\tfill: var(--chat-icon-color-close-outline);\n}\n\n#chat-icon-send {\n\tfill: var(--chat-icon-color-send);\n}\n\n#chat-icon-send-disabled {\n\tfill: var(--chat-icon-color-send-disabled);\n}\n\n#chat-icon-emoji {\n\tfill: var(--chat-icon-color-emoji);\n}\n\n#chat-icon-document {\n\tfill: var(--chat-icon-color-document);\n}\n\n#chat-icon-pencil {\n\tfill: var(--chat-icon-color-pencil);\n}\n\n#chat-icon-checkmark {\n\tfill: var(--chat-icon-color-checkmark);\n}\n\n#chat-icon-eye {\n\tfill: var(--chat-icon-color-eye);\n}\n\n#chat-icon-dropdown {\n\tfill: var(--chat-icon-color-dropdown);\n}\n\n#chat-icon-dropdown-sroll {\n\tfill: var(--chat-icon-color-dropdown-scroll);\n}\n</style>\n","import mod from \"-!../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../demo/node_modules/thread-loader/dist/cjs.js!../../demo/node_modules/babel-loader/lib/index.js!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./SvgIcon.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../demo/node_modules/thread-loader/dist/cjs.js!../../demo/node_modules/babel-loader/lib/index.js!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./SvgIcon.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SvgIcon.vue?vue&type=template&id=725e7fa1&\"\nimport script from \"./SvgIcon.vue?vue&type=script&lang=js&\"\nexport * from \"./SvgIcon.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SvgIcon.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<div class=\"rooms-container app-border-r\">\n\t\t<div class=\"box-search\">\n\t\t\t<div class=\"icon-search\">\n\t\t\t\t<svg-icon name=\"search\" />\n\t\t\t</div>\n\t\t\t<input\n\t\t\t\ttype=\"text\"\n\t\t\t\t:placeholder=\"textMessages.SEARCH\"\n\t\t\t\tautocomplete=\"off\"\n\t\t\t\t@input=\"searchRoom\"\n\t\t\t/>\n\t\t\t<div class=\"svg-button\" @click=\"addRoom\">\n\t\t\t\t<svg-icon name=\"add\" />\n\t\t\t</div>\n\t\t</div>\n\n\t\t<chat-loader :show=\"loadingRooms\"></chat-loader>\n\n\t\t<div class=\"rooms-empty\" v-if=\"!loadingRooms && !rooms.length\">\n\t\t\tNo rooms\n\t\t</div>\n\n\t\t<!-- :class=\"{ 'room-disabled': loadingMessages }\" -->\n\t\t<div v-if=\"!loadingRooms\" class=\"room-list\">\n\t\t\t<div\n\t\t\t\tclass=\"room-item\"\n\t\t\t\tv-for=\"room in filteredRooms\"\n\t\t\t\t:key=\"room.roomId\"\n\t\t\t\t:class=\"{ 'room-selected': selectedRoomId === room.roomId }\"\n\t\t\t\t@click=\"openRoom(room)\"\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tv-if=\"room.avatar\"\n\t\t\t\t\tclass=\"room-avatar\"\n\t\t\t\t\t:style=\"{ background: `url(${room.avatar})` }\"\n\t\t\t\t></div>\n\t\t\t\t<div class=\"name-container\">\n\t\t\t\t\t<div class=\"title-container\">\n\t\t\t\t\t\t<div class=\"room-name\">{{ room.roomName }}</div>\n\t\t\t\t\t\t<div class=\"room-name text-date\" v-if=\"room.lastMessage\">\n\t\t\t\t\t\t\t{{ room.lastMessage.timestamp }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"room-name text-last\"\n\t\t\t\t\t\t:class=\"{ 'message-new': room.lastMessage.new }\"\n\t\t\t\t\t\tv-if=\"room.lastMessage\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<span v-if=\"room.lastMessage.seen\">\n\t\t\t\t\t\t\t<svg-icon name=\"checkmark\" class=\"icon-check\" />\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span v-if=\"room.lastMessage.new\" class=\"dot-new\"></span>\n\t\t\t\t\t\t<span>{{ room.lastMessage.content }}</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport ChatLoader from './ChatLoader'\nimport filteredUsers from '../utils/filterItems'\nimport SvgIcon from './SvgIcon'\n\nexport default {\n\tname: 'rooms-list',\n\tcomponents: { ChatLoader, SvgIcon },\n\n\tprops: {\n\t\trooms: { type: Array, required: true },\n\t\tloadingRooms: { type: Boolean, required: true },\n\t\troom: { type: Object, required: true },\n\t\ttextMessages: { type: Object, required: true }\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\tfilteredRooms: this.rooms || [],\n\t\t\tselectedRoomId: ''\n\t\t}\n\t},\n\n\twatch: {\n\t\trooms(val) {\n\t\t\tif (val[0]) this.selectedRoomId = val[0].roomId\n\t\t\tthis.filteredRooms = val\n\t\t}\n\t},\n\n\tmethods: {\n\t\tsearchRoom(ev) {\n\t\t\tthis.filteredRooms = filteredUsers(\n\t\t\t\tthis.rooms,\n\t\t\t\t'roomName',\n\t\t\t\tev.target.value\n\t\t\t)\n\t\t},\n\t\topenRoom(room) {\n\t\t\tif (room.roomId === this.room.roomId) return\n\t\t\tthis.selectedRoomId = room.roomId\n\t\t\tthis.$emit('fetchRoom', { room })\n\t\t},\n\t\taddRoom() {\n\t\t\tthis.$emit('addRoom')\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.rooms-container {\n\tflex: 0 0 25%;\n\tmax-width: 25%;\n\tposition: relative;\n\tbackground: var(--chat-sidemenu-bg-color);\n}\n\n.box-search {\n\tdisplay: flex;\n\talign-items: center;\n\theight: 64px;\n\tpadding: 0 20px;\n\tmargin-top: 5px;\n}\n\n.icon-search {\n\tdisplay: flex;\n\tposition: absolute;\n\tleft: 30px;\n\tmargin-top: 1px;\n\n\tsvg {\n\t\twidth: 22px;\n\t\theight: 22px;\n\t}\n}\n\ninput {\n\tbackground: var(--chat-bg-color-input);\n\tcolor: var(--chat-color);\n\tborder-radius: 4px;\n\tmargin-right: 20px;\n\twidth: 100%;\n\tfont-size: 15px;\n\toutline: 0;\n\tcaret-color: var(--chat-color-caret);\n\tpadding: 10px 10px 10px 38px;\n\tborder: 1px solid var(--chat-sidemenu-border-color-search);\n\tborder-radius: 20px;\n\n\t&::placeholder {\n\t\tcolor: var(--chat-color-placeholder);\n\t}\n}\n\n.rooms-empty {\n\tfont-size: 14px;\n\tcolor: #9ca6af;\n\tfont-style: italic;\n\ttext-align: center;\n\tmargin: 40px 0;\n}\n\n.room-list {\n\t-webkit-box-flex: 0;\n\tflex: 0 1 auto;\n\tposition: relative;\n\tmax-width: 100%;\n\tcursor: pointer;\n\tpadding: 5px 10px;\n}\n\n.room-item {\n\tborder-radius: 8px;\n\t-webkit-box-align: center;\n\talign-items: center;\n\tdisplay: -webkit-box;\n\t-webkit-box-flex: 1;\n\tflex: 1 1 100%;\n\tmargin-bottom: 5px;\n\tpadding: 0 16px;\n\tposition: relative;\n\tmin-height: 71px;\n\n\t&:hover {\n\t\tbackground: var(--chat-sidemenu-bg-color-hover);\n\t\t-webkit-transition: background-color 0.3s cubic-bezier(0.25, 0.8, 0.5, 1);\n\t\ttransition: background-color 0.3s cubic-bezier(0.25, 0.8, 0.5, 1);\n\t}\n\n\t&:not(:hover) {\n\t\t-webkit-transition: background-color 0.3s cubic-bezier(0.25, 0.8, 0.5, 1);\n\t\ttransition: background-color 0.3s cubic-bezier(0.25, 0.8, 0.5, 1);\n\t}\n}\n\n.room-selected {\n\tcolor: var(--chat-sidemenu-color-active) !important;\n\tbackground: var(--chat-sidemenu-bg-color-active) !important;\n\n\t&:hover {\n\t\tbackground: var(--chat-sidemenu-bg-color-active) !important;\n\t}\n}\n\n.name-container {\n\tflex: 1 1;\n}\n\n.title-container {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.room-name {\n\twhite-space: nowrap;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\tflex: 1;\n\twhite-space: nowrap;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\tcolor: var(--chat-room-color-username);\n}\n\n.text-last {\n\tcolor: var(--chat-room-color-message);\n\tfont-size: 12px;\n}\n\n.message-new {\n\tcolor: var(--chat-room-color-username);\n}\n\n.dot-new {\n\theight: 8px;\n\twidth: 8px;\n\tbackground-color: var(--chat-room-color-new-dot);\n\tborder-radius: 50%;\n\tdisplay: inline-block;\n\tmargin: 0 5px 0 0;\n}\n\n.text-date {\n\tcolor: var(--chat-room-color-timestamp);\n\tfont-size: 11px;\n\ttext-align: right;\n}\n\n.room-disabled {\n\tpointer-events: none;\n}\n\n.icon-check {\n\theight: 14px;\n\twidth: 14px;\n\tvertical-align: middle;\n\tmargin-top: -2px;\n\tmargin-right: 1px;\n}\n</style>\n","import mod from \"-!../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../demo/node_modules/thread-loader/dist/cjs.js!../../demo/node_modules/babel-loader/lib/index.js!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomsList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../demo/node_modules/thread-loader/dist/cjs.js!../../demo/node_modules/babel-loader/lib/index.js!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomsList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RoomsList.vue?vue&type=template&id=d7be5a2a&scoped=true&\"\nimport script from \"./RoomsList.vue?vue&type=script&lang=js&\"\nexport * from \"./RoomsList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RoomsList.vue?vue&type=style&index=0&id=d7be5a2a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d7be5a2a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-messages\"},[_c('div',{staticClass:\"room-header app-border-b\"},[(_vm.room.avatar)?_c('div',{staticClass:\"room-avatar\",style:({ background: (\"url(\" + (_vm.room.avatar) + \")\") })}):_vm._e(),_c('div',{staticClass:\"room-name\"},[_vm._v(_vm._s(_vm.room.roomName))]),(_vm.menuActions.length)?_c('div',{staticClass:\"svg-button room-options\",on:{\"click\":function($event){_vm.menuOpened = !_vm.menuOpened}}},[_c('svg-icon',{attrs:{\"name\":\"menu\"}})],1):_vm._e(),(_vm.menuActions.length)?_c('transition',{attrs:{\"name\":\"slide-left\"}},[(_vm.menuOpened)?_c('div',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(_vm.closeMenu),expression:\"closeMenu\"}],staticClass:\"menu-options\"},[_c('div',{staticClass:\"menu-list\"},_vm._l((_vm.menuActions),function(action){return _c('div',{key:action.name},[_c('div',{staticClass:\"menu-item\",on:{\"click\":function($event){return _vm.menuActionHandler(action)}}},[_vm._v(\" \"+_vm._s(action.title)+\" \")])])}),0)]):_vm._e()]):_vm._e()],1),_c('div',{staticClass:\"container-scroll\"},[_c('div',{staticClass:\"messages-container\"},[_c('chat-loader',{attrs:{\"show\":_vm.loadingMessages}}),_c('transition',{attrs:{\"name\":\"fade-message\"}},[(_vm.showNoMessages)?_c('div',{staticClass:\"text-started\"},[_vm._v(\" \"+_vm._s(_vm.textMessages.MESSAGES_EMPTY)+\" \")]):_vm._e(),(_vm.showMessagesStarted)?_c('div',{staticClass:\"text-started\"},[_vm._v(\" \"+_vm._s(_vm.textMessages.CONVERSATION_STARTED)+\" \"+_vm._s(_vm.messages[0].date)+\" \")]):_vm._e()]),_c('transition',{attrs:{\"name\":\"fade-message\"}},[(_vm.messages.length)?_c('infinite-loading',{attrs:{\"spinner\":\"spiral\",\"direction\":\"top\"},on:{\"infinite\":_vm.loadMoreMessages}},[_c('div',{attrs:{\"slot\":\"no-results\"},slot:\"no-results\"}),_c('div',{attrs:{\"slot\":\"no-more\"},slot:\"no-more\"})]):_vm._e()],1),_c('transition-group',{attrs:{\"name\":\"fade-message\"}},_vm._l((_vm.messages),function(message,i){return _c('div',{key:message._id},[_c('chat-message',{attrs:{\"message\":message,\"index\":i,\"messages\":_vm.messages,\"editedMessage\":_vm.editedMessage,\"messageActions\":_vm.messageActions,\"roomUsers\":_vm.room.users,\"textMessages\":_vm.textMessages,\"roomFooterRef\":_vm.$refs.roomFooter,\"newMessages\":_vm.newMessages},on:{\"messageActionHandler\":_vm.messageActionHandler,\"openFile\":_vm.openFile,\"addNewMessage\":_vm.addNewMessage}})],1)}),0)],1),_c('transition',{attrs:{\"name\":\"bounce\"}},[(_vm.scrollIcon)?_c('div',{staticClass:\"icon-scroll\",on:{\"click\":_vm.scrollToBottom}},[_c('svg-icon',{attrs:{\"name\":\"dropdown\",\"param\":\"scroll\"}})],1):_vm._e()])],1),_c('div',{ref:\"roomFooter\",staticClass:\"room-footer\"},[_c('transition',{attrs:{\"name\":\"slide-up\"}},[(_vm.messageReply)?_c('div',{staticClass:\"reply-container\"},[_c('div',{staticClass:\"reply-box\"},[(_vm.isImageCheck(_vm.messageReply.file))?_c('img',{staticClass:\"image-reply\",attrs:{\"src\":_vm.messageReply.file.url}}):_vm._e(),_c('div',{staticClass:\"reply-info\"},[_c('div',{staticClass:\"reply-username\"},[_vm._v(_vm._s(_vm.messageReply.username))]),_c('div',{staticClass:\"reply-content\"},[_vm._v(_vm._s(_vm.messageReply.content))])])]),_c('div',{staticClass:\"icon-reply\"},[_c('div',{staticClass:\"svg-button\",on:{\"click\":_vm.resetMessage}},[_c('svg-icon',{attrs:{\"name\":\"close-outline\"}})],1)])]):_vm._e()]),_c('div',{staticClass:\"box-footer\"},[(_vm.imageFile)?_c('div',{staticClass:\"image-container\"},[_c('div',{staticClass:\"svg-button icon-image\",on:{\"click\":_vm.resetImageFile}},[_c('svg-icon',{attrs:{\"name\":\"close\",\"param\":\"image\"}})],1),_c('div',{staticClass:\"image-file\"},[_c('img',{ref:\"imageFile\",attrs:{\"src\":_vm.imageFile}})])]):(_vm.file)?_c('div',{staticClass:\"file-container\"},[_c('div',{staticClass:\"icon-file\"},[_c('svg-icon',{attrs:{\"name\":\"file\"}})],1),_c('div',[_vm._v(_vm._s(_vm.message))]),_c('div',{staticClass:\"svg-button icon-remove\",on:{\"click\":_vm.resetMessage}},[_c('svg-icon',{attrs:{\"name\":\"close\"}})],1)]):_vm._e(),_c('textarea',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.file || _vm.imageFile),expression:\"!file || imageFile\"},{name:\"model\",rawName:\"v-model\",value:(_vm.message),expression:\"message\"}],ref:\"roomTextarea\",class:{\n\t\t\t\t\t'textarea-outline': _vm.editedMessage._id,\n\t\t\t\t\t'textarea-image': _vm.imageFile\n\t\t\t\t},style:({\n\t\t\t\t\theight: ((_vm.imageDimensions.height) + \"px\"),\n\t\t\t\t\t'min-height': ((_vm.imageDimensions.height - 14) + \"px\"),\n\t\t\t\t\t'padding-left': ((_vm.imageDimensions.width + 6) + \"px\")\n\t\t\t\t}),attrs:{\"placeholder\":_vm.textMessages.TYPE_MESSAGE},domProps:{\"value\":(_vm.message)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.message=$event.target.value},_vm.autoGrow],\"keydown\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }return _vm.resetMessage($event)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }if($event.ctrlKey||$event.shiftKey||$event.altKey||$event.metaKey){ return null; }$event.preventDefault();return _vm.sendMessage($event)}]}}),_c('div',{staticClass:\"icon-textarea\"},[(_vm.showEmojis && (!_vm.file || _vm.imageFile))?_c('emoji-picker',{attrs:{\"emojiOpened\":_vm.emojiOpened},on:{\"addEmoji\":_vm.addEmoji,\"openEmoji\":function($event){_vm.emojiOpened = $event}}}):_vm._e(),(_vm.showFiles)?_c('div',{staticClass:\"svg-button\",on:{\"click\":_vm.launchFilePicker}},[_c('svg-icon',{attrs:{\"name\":\"paperclip\"}})],1):_vm._e(),(_vm.showFiles)?_c('input',{ref:\"file\",staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\"},on:{\"change\":function($event){return _vm.onFileChange($event.target.files)}}}):_vm._e(),(_vm.editedMessage._id)?_c('div',{staticClass:\"svg-button\",on:{\"click\":_vm.resetMessage}},[_c('svg-icon',{attrs:{\"name\":\"close-outline\"}})],1):_c('div',{staticClass:\"svg-button\",class:{ 'send-disabled': _vm.inputDisabled },on:{\"click\":_vm.sendMessage}},[_c('svg-icon',{attrs:{\"name\":\"send\",\"param\":_vm.inputDisabled ? 'disabled' : ''}})],1)],1)])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.showDate)?_c('div',{staticClass:\"card-date\"},[_vm._v(\" \"+_vm._s(_vm.message.date)+\" \")]):_vm._e(),(_vm.newMessage._id === _vm.message._id)?_c('div',{staticClass:\"line-new\"},[_vm._v(\" \"+_vm._s(_vm.textMessages.NEW_MESSAGES)+\" \")]):_vm._e(),_c('div',{staticClass:\"message-box\",class:{ 'offset-current': _vm.message.sender_id === 'me' }},[_c('div',{staticClass:\"message-container\",on:{\"mouseover\":function($event){return _vm.onHoverMessage(_vm.message)},\"mouseleave\":_vm.onLeaveMessage}},[_c('div',{staticClass:\"message-card\",class:{\n\t\t\t\t\t'message-highlight': _vm.isMessageHover(_vm.message),\n\t\t\t\t\t'message-current': _vm.message.sender_id === 'me',\n\t\t\t\t\t'message-deleted': _vm.message.deleted\n\t\t\t\t}},[(_vm.roomUsers.length > 2 && _vm.message.sender_id !== 'me')?_c('div',{staticClass:\"text-username\",class:{\n\t\t\t\t\t\t'username-reply': !_vm.message.deleted && _vm.message.replyMessage\n\t\t\t\t\t}},[_c('span',[_vm._v(_vm._s(_vm.message.username))])]):_vm._e(),(!_vm.message.deleted && _vm.message.replyMessage)?_c('div',{staticClass:\"reply-message\"},[_c('div',{staticClass:\"reply-username\"},[_vm._v(_vm._s(_vm.replyUsername))]),_c('div',{staticClass:\"reply-content\"},[_vm._v(_vm._s(_vm.message.replyMessage.content))])]):_vm._e(),(_vm.message.deleted)?_c('div',[_c('span',[_vm._v(_vm._s(_vm.textMessages.MESSAGE_DELETED))])]):(!_vm.message.file)?_c('div',[_c('span',[_vm._v(_vm._s(_vm.message.content))])]):(_vm.isImage)?_c('div',{staticClass:\"image-container\"},[_c('chat-loader',{staticClass:\"image-loader\",attrs:{\"show\":_vm.isImageLoading}}),_c('div',{staticClass:\"message-image\",class:{\n\t\t\t\t\t\t\t'image-loading': _vm.isImageLoading && _vm.message.sender_id === 'me'\n\t\t\t\t\t\t},style:({ background: (\"url(\" + (_vm.message.file.url) + \")\") })},[_c('transition',{attrs:{\"name\":\"fade-image\"}},[(_vm.imageHover && !_vm.isImageLoading)?_c('div',{staticClass:\"image-buttons\"},[_c('div',{staticClass:\"svg-button button-view\",on:{\"click\":function($event){$event.stopPropagation();return _vm.openFile(_vm.message.file)}}},[_c('svg-icon',{attrs:{\"name\":\"eye\"}})],1),_c('div',{staticClass:\"svg-button button-download\",on:{\"click\":function($event){$event.stopPropagation();return _vm.openFile(_vm.message.file)}}},[_c('svg-icon',{attrs:{\"name\":\"document\"}})],1)]):_vm._e()])],1),_c('span',[_vm._v(_vm._s(_vm.message.content))])],1):_c('div',{staticClass:\"file-message\"},[_c('div',{staticClass:\"svg-button icon-file\",on:{\"click\":function($event){$event.stopPropagation();return _vm.openFile(_vm.message.file)}}},[_c('svg-icon',{attrs:{\"name\":\"document\"}})],1),_c('span',[_vm._v(_vm._s(_vm.message.content))])]),_c('div',{staticClass:\"text-timestamp\"},[(_vm.message.edited && !_vm.message.deleted)?_c('div',{staticClass:\"icon-edited\"},[_c('svg-icon',{attrs:{\"name\":\"pencil\"}})],1):_vm._e(),_c('span',[_vm._v(_vm._s(_vm.message.timestamp))]),(_vm.isMessageSeen)?_c('span',[_c('svg-icon',{staticClass:\"icon-check\",attrs:{\"name\":\"checkmark\"}})],1):_vm._e()]),_c('transition',{attrs:{\"name\":\"slide-left\"}},[(_vm.isMessageActions)?_c('div',{ref:\"actionIcon\",staticClass:\"svg-button message-options\",on:{\"click\":_vm.openOptions}},[_c('svg-icon',{attrs:{\"name\":\"dropdown\"}})],1):_vm._e()]),(_vm.filteredMessageActions.length)?_c('transition',{attrs:{\"name\":_vm.message.sender_id === 'me' ? 'slide-left' : 'slide-right'}},[(_vm.optionsOpened)?_c('div',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(_vm.closeOptions),expression:\"closeOptions\"}],ref:\"menuOptions\",staticClass:\"menu-options\",class:{ 'menu-left': _vm.message.sender_id !== 'me' },style:({ top: (_vm.menuOptionsHeight + \"px\") })},[_c('div',{staticClass:\"menu-list\"},_vm._l((_vm.filteredMessageActions),function(action){return _c('div',{key:action.name},[_c('div',{staticClass:\"menu-item\",on:{\"click\":function($event){return _vm.messageActionHandler(action)}}},[_vm._v(\" \"+_vm._s(action.title)+\" \")])])}),0)]):_vm._e()]):_vm._e()],1)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div>\n\t\t<div class=\"card-date\" v-if=\"showDate\">\n\t\t\t{{ message.date }}\n\t\t</div>\n\n\t\t<div class=\"line-new\" v-if=\"newMessage._id === message._id\">\n\t\t\t{{ textMessages.NEW_MESSAGES }}\n\t\t</div>\n\n\t\t<div\n\t\t\tclass=\"message-box\"\n\t\t\t:class=\"{ 'offset-current': message.sender_id === 'me' }\"\n\t\t>\n\t\t\t<div\n\t\t\t\tclass=\"message-container\"\n\t\t\t\t@mouseover=\"onHoverMessage(message)\"\n\t\t\t\t@mouseleave=\"onLeaveMessage\"\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tclass=\"message-card\"\n\t\t\t\t\t:class=\"{\n\t\t\t\t\t\t'message-highlight': isMessageHover(message),\n\t\t\t\t\t\t'message-current': message.sender_id === 'me',\n\t\t\t\t\t\t'message-deleted': message.deleted\n\t\t\t\t\t}\"\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-if=\"roomUsers.length > 2 && message.sender_id !== 'me'\"\n\t\t\t\t\t\tclass=\"text-username\"\n\t\t\t\t\t\t:class=\"{\n\t\t\t\t\t\t\t'username-reply': !message.deleted && message.replyMessage\n\t\t\t\t\t\t}\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<span>{{ message.username }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-if=\"!message.deleted && message.replyMessage\"\n\t\t\t\t\t\tclass=\"reply-message\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div class=\"reply-username\">{{ replyUsername }}</div>\n\t\t\t\t\t\t<div class=\"reply-content\">{{ message.replyMessage.content }}</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div v-if=\"message.deleted\">\n\t\t\t\t\t\t<span>{{ textMessages.MESSAGE_DELETED }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div v-else-if=\"!message.file\">\n\t\t\t\t\t\t<span>{{ message.content }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"image-container\" v-else-if=\"isImage\">\n\t\t\t\t\t\t<chat-loader\n\t\t\t\t\t\t\tclass=\"image-loader\"\n\t\t\t\t\t\t\t:show=\"isImageLoading\"\n\t\t\t\t\t\t></chat-loader>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass=\"message-image\"\n\t\t\t\t\t\t\t:class=\"{\n\t\t\t\t\t\t\t\t'image-loading': isImageLoading && message.sender_id === 'me'\n\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t:style=\"{ background: `url(${message.file.url})` }\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<transition name=\"fade-image\">\n\t\t\t\t\t\t\t\t<div class=\"image-buttons\" v-if=\"imageHover && !isImageLoading\">\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclass=\"svg-button button-view\"\n\t\t\t\t\t\t\t\t\t\t@click.stop=\"openFile(message.file)\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<svg-icon name=\"eye\" />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclass=\"svg-button button-download\"\n\t\t\t\t\t\t\t\t\t\t@click.stop=\"openFile(message.file)\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<svg-icon name=\"document\" />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</transition>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<span>{{ message.content }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div v-else class=\"file-message\">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass=\"svg-button icon-file\"\n\t\t\t\t\t\t\t@click.stop=\"openFile(message.file)\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<svg-icon name=\"document\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<span>{{ message.content }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"text-timestamp\">\n\t\t\t\t\t\t<div class=\"icon-edited\" v-if=\"message.edited && !message.deleted\">\n\t\t\t\t\t\t\t<svg-icon name=\"pencil\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<span>{{ message.timestamp }}</span>\n\t\t\t\t\t\t<span v-if=\"isMessageSeen\">\n\t\t\t\t\t\t\t<svg-icon name=\"checkmark\" class=\"icon-check\" />\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<transition name=\"slide-left\">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tref=\"actionIcon\"\n\t\t\t\t\t\t\tclass=\"svg-button message-options\"\n\t\t\t\t\t\t\tv-if=\"isMessageActions\"\n\t\t\t\t\t\t\t@click=\"openOptions\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<svg-icon name=\"dropdown\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</transition>\n\n\t\t\t\t\t<transition\n\t\t\t\t\t\t:name=\"message.sender_id === 'me' ? 'slide-left' : 'slide-right'\"\n\t\t\t\t\t\tv-if=\"filteredMessageActions.length\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tref=\"menuOptions\"\n\t\t\t\t\t\t\tv-if=\"optionsOpened\"\n\t\t\t\t\t\t\tv-click-outside=\"closeOptions\"\n\t\t\t\t\t\t\tclass=\"menu-options\"\n\t\t\t\t\t\t\t:class=\"{ 'menu-left': message.sender_id !== 'me' }\"\n\t\t\t\t\t\t\t:style=\"{ top: `${menuOptionsHeight}px` }\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div class=\"menu-list\">\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tv-for=\"action in filteredMessageActions\"\n\t\t\t\t\t\t\t\t\t:key=\"action.name\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div class=\"menu-item\" @click=\"messageActionHandler(action)\">\n\t\t\t\t\t\t\t\t\t\t{{ action.title }}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</transition>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport SvgIcon from './SvgIcon'\nimport vClickOutside from 'v-click-outside'\nimport ChatLoader from './ChatLoader'\n\nexport default {\n\tname: 'chat-message',\n\tcomponents: { SvgIcon, ChatLoader },\n\n\tdirectives: {\n\t\tclickOutside: vClickOutside.directive\n\t},\n\n\tprops: {\n\t\tindex: { type: Number, required: true },\n\t\tmessage: { type: Object, required: true },\n\t\tmessages: { type: Array, required: true },\n\t\teditedMessage: { type: Object, required: true },\n\t\troomUsers: { type: Array, default: () => [] },\n\t\ttextMessages: { type: Object, required: true },\n\t\tmessageActions: { type: Array, required: true },\n\t\troomFooterRef: { type: HTMLDivElement },\n\t\tnewMessages: { type: Array }\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\thoverMessageId: null,\n\t\t\timageLoading: false,\n\t\t\timageHover: false,\n\t\t\tmessageReply: false,\n\t\t\toptionsOpened: false,\n\t\t\tmenuOptionsHeight: 0,\n\t\t\tnewMessage: {}\n\t\t}\n\t},\n\n\twatch: {\n\t\tmessage: {\n\t\t\timmediate: true,\n\t\t\thandler() {\n\t\t\t\tthis.checkImgLoad()\n\t\t\t}\n\t\t},\n\t\tnewMessages(val) {\n\t\t\tif (!val.length) return\n\t\t\tthis.newMessage = val.reduce((res, obj) =>\n\t\t\t\tobj.index < res.index ? obj : res\n\t\t\t)\n\t\t}\n\t},\n\n\tmounted() {\n\t\tif (!this.message.seen && this.message.sender_id !== 'me') {\n\t\t\tthis.$emit('addNewMessage', {\n\t\t\t\t_id: this.message._id,\n\t\t\t\tindex: this.index\n\t\t\t})\n\t\t}\n\t},\n\n\tcomputed: {\n\t\tshowDate() {\n\t\t\treturn (\n\t\t\t\tthis.index > 0 &&\n\t\t\t\tthis.message.date !== this.messages[this.index - 1].date\n\t\t\t)\n\t\t},\n\t\tisImage() {\n\t\t\treturn this.checkImageFile()\n\t\t},\n\t\tisImageLoading() {\n\t\t\treturn (\n\t\t\t\tthis.message.file.url.indexOf('blob:http') !== -1 || this.imageLoading\n\t\t\t)\n\t\t},\n\t\tisEditable() {\n\t\t\treturn this.canEditMessage()\n\t\t},\n\t\tisMessageSeen() {\n\t\t\treturn (\n\t\t\t\tthis.message.sender_id === 'me' &&\n\t\t\t\tthis.message.seen &&\n\t\t\t\t!this.message.deleted\n\t\t\t)\n\t\t},\n\t\treplyUsername() {\n\t\t\tconst { sender_id } = this.message.replyMessage\n\t\t\tconst replyUser = this.roomUsers.find(user => user._id === sender_id)\n\t\t\treturn replyUser ? replyUser.username : ''\n\t\t},\n\t\tisMessageActions() {\n\t\t\treturn (\n\t\t\t\tthis.filteredMessageActions.length &&\n\t\t\t\tthis.messageReply &&\n\t\t\t\t!this.message.deleted\n\t\t\t)\n\t\t},\n\t\tfilteredMessageActions() {\n\t\t\treturn this.message.sender_id === 'me'\n\t\t\t\t? this.messageActions\n\t\t\t\t: this.messageActions.filter(message => !message.onlyMe)\n\t\t}\n\t},\n\n\tmethods: {\n\t\tisMessageHover() {\n\t\t\treturn (\n\t\t\t\tthis.editedMessage._id === this.message._id ||\n\t\t\t\tthis.hoverMessageId === this.message._id\n\t\t\t)\n\t\t},\n\t\tonHoverMessage() {\n\t\t\tthis.imageHover = true\n\t\t\tthis.messageReply = true\n\t\t\tif (this.canEditMessage()) this.hoverMessageId = this.message._id\n\t\t},\n\t\tcanEditMessage() {\n\t\t\treturn this.message.sender_id === 'me' && !this.message.deleted\n\t\t},\n\t\tonLeaveMessage() {\n\t\t\tthis.imageHover = false\n\t\t\tif (!this.optionsOpened) this.messageReply = false\n\t\t\tthis.hoverMessageId = null\n\t\t},\n\t\topenFile() {\n\t\t\tthis.$emit('openFile', this.message)\n\t\t},\n\t\tmessageActionHandler(action) {\n\t\t\tthis.closeOptions()\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.$emit('messageActionHandler', { action, message: this.message })\n\t\t\t}, 300)\n\t\t},\n\t\tcheckImageFile() {\n\t\t\tif (!this.message.file) return\n\t\t\tconst imageTypes = ['png', 'jpg']\n\t\t\tconst { type } = this.message.file\n\t\t\treturn imageTypes.some(t => type.includes(t))\n\t\t},\n\t\tcheckImgLoad() {\n\t\t\tif (!this.checkImageFile()) return\n\t\t\tthis.imageLoading = true\n\t\t\tconst image = new Image()\n\t\t\timage.src = this.message.file.url\n\t\t\timage.addEventListener('load', () => (this.imageLoading = false))\n\t\t},\n\t\topenOptions() {\n\t\t\tthis.optionsOpened = !this.optionsOpened\n\n\t\t\tif (!this.optionsOpened) return\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (!this.$refs.menuOptions || !this.roomFooterRef) return\n\t\t\t\tconst menuOptionsHeight = this.$refs.menuOptions.getBoundingClientRect()\n\t\t\t\t\t.height\n\n\t\t\t\tconst actionIconTop = this.$refs.actionIcon.getBoundingClientRect().top\n\t\t\t\tconst roomFooterTop = this.roomFooterRef.getBoundingClientRect().top\n\n\t\t\t\tconst optionsTopPosition =\n\t\t\t\t\troomFooterTop - actionIconTop > menuOptionsHeight + 50\n\n\t\t\t\tif (optionsTopPosition) this.menuOptionsHeight = 28\n\t\t\t\telse this.menuOptionsHeight = -menuOptionsHeight\n\t\t\t}, 0)\n\t\t},\n\t\tcloseOptions() {\n\t\t\tthis.optionsOpened = false\n\t\t\tif (this.hoverMessageId !== this.message._id) this.messageReply = false\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.card-date {\n\tborder-radius: 4px;\n\tmax-width: 150px;\n\ttext-align: center;\n\tmargin: 10px auto;\n\tfont-size: 12px;\n\ttext-transform: uppercase;\n\tpadding: 4px;\n\tcolor: var(--chat-message-color-date);\n\tbackground: var(--chat-message-bg-color-date);\n\tdisplay: block;\n\toverflow-wrap: break-word;\n\tposition: relative;\n\twhite-space: normal;\n\tbox-shadow: 0 1px 1px -1px rgba(0, 0, 0, 0.2), 0 1px 1px 0 rgba(0, 0, 0, 0.14),\n\t\t0 1px 2px 0 rgba(0, 0, 0, 0.12);\n}\n\n.line-new {\n\tcolor: var(--chat-message-color-new-messages);\n\tposition: relative;\n\ttext-align: center;\n\tfont-size: 13px;\n}\n\n.line-new:after,\n.line-new:before {\n\tborder-top: 1px solid var(--chat-message-color-new-messages);\n\tcontent: '';\n\tleft: 0;\n\tposition: absolute;\n\ttop: 50%;\n\twidth: calc(50% - 60px);\n}\n\n.line-new:before {\n\tleft: auto;\n\tright: 0;\n}\n\n.message-box {\n\tdisplay: flex;\n\tflex: 0 0 50%;\n\tmax-width: 50%;\n\tjustify-content: flex-start;\n\tline-height: 1.4;\n}\n\n.message-container {\n\tposition: relative;\n\tpadding: 3px 10px;\n\talign-items: end;\n\tmin-width: 100px;\n}\n\n.offset-current {\n\tmargin-left: 50%;\n\tjustify-content: flex-end;\n}\n\n.message-card {\n\tbackground: var(--chat-message-bg-color);\n\tcolor: var(--chat-message-color);\n\tborder-radius: 8px;\n\tfont-size: 14px;\n\tpadding: 6px 9px 3px;\n\twhite-space: pre-wrap;\n\tdisplay: block;\n\tmax-width: 100%;\n\t-webkit-transition-property: box-shadow, opacity;\n\ttransition-property: box-shadow, opacity;\n\toverflow-wrap: break-word;\n\t-webkit-transition: box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);\n\ttransition: box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);\n\twill-change: box-shadow;\n\tbox-shadow: 0 1px 1px -1px rgba(0, 0, 0, 0.2), 0 1px 1px 0 rgba(0, 0, 0, 0.14),\n\t\t0 1px 2px 0 rgba(0, 0, 0, 0.12);\n}\n\n.message-highlight {\n\tbox-shadow: 0px 2px 2px -2px rgba(0, 0, 0, 0.2),\n\t\t0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 4px 0px rgba(0, 0, 0, 0.12);\n}\n\n.message-current {\n\tbackground: var(--chat-message-bg-color-me) !important;\n}\n\n.message-deleted {\n\tcolor: var(--chat-message-color-deleted) !important;\n\tfont-size: 13px !important;\n\tfont-style: italic !important;\n\tbackground: var(--chat-message-bg-color-deleted) !important;\n}\n\n.image-container {\n\tpadding-bottom: 2px;\n\twidth: 250px;\n}\n\n.image-loader {\n\ttop: 140px;\n}\n\n.message-image {\n\tposition: relative;\n\tbackground-color: var(--chat-message-bg-color-image) !important;\n\tbackground-size: cover !important;\n\tbackground-position: center center !important;\n\tbackground-repeat: no-repeat !important;\n\theight: 250px;\n\twidth: 250px;\n\tborder-radius: 4px;\n\tmargin: 4px auto 5px;\n\ttransition: 0.4s filter linear;\n}\n\n.image-loading {\n\tfilter: blur(3px);\n}\n\n.reply-message {\n\tbackground: var(--chat-message-bg-color-reply);\n\tborder-radius: 4px;\n\tmargin: -1px -5px 8px;\n\tpadding: 8px 10px;\n\n\t.reply-username {\n\t\tcolor: var(--chat-message-color-reply-username);\n\t\tfont-size: 12px;\n\t\tline-height: 15px;\n\t\tmargin-bottom: 2px;\n\t}\n\n\t.reply-content {\n\t\tfont-size: 12px;\n\t\tcolor: var(--chat-message-color-reply-content);\n\t}\n}\n\n.text-username {\n\tfont-size: 13px;\n\tcolor: var(--chat-message-color-username);\n\tmargin-bottom: 2px;\n}\n\n.username-reply {\n\tmargin-bottom: 5px;\n}\n\n.text-timestamp {\n\tfont-size: 10px;\n\tcolor: var(--chat-message-color-timestamp);\n\ttext-align: right;\n}\n\n.file-message {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\talign-items: center;\n\tmargin-top: 3px;\n\n\t.icon-file svg {\n\t\tmargin-right: 5px;\n\t}\n}\n\n.icon-edited {\n\t-webkit-box-align: center;\n\talign-items: center;\n\tdisplay: -webkit-inline-box;\n\tdisplay: inline-flex;\n\tjustify-content: center;\n\tletter-spacing: normal;\n\tline-height: 1;\n\ttext-indent: 0;\n\tvertical-align: middle;\n\tmargin: 0 4px 2px;\n\n\tsvg {\n\t\theight: 12px;\n\t\twidth: 12px;\n\t}\n}\n\n.image-buttons {\n\tposition: absolute;\n\twidth: 100%;\n\theight: 100%;\n\tborder-radius: 4px;\n\tbackground: linear-gradient(\n\t\tto bottom,\n\t\trgba(0, 0, 0, 0) 55%,\n\t\trgba(0, 0, 0, 0.02) 60%,\n\t\trgba(0, 0, 0, 0.05) 65%,\n\t\trgba(0, 0, 0, 0.1) 70%,\n\t\trgba(0, 0, 0, 0.2) 75%,\n\t\trgba(0, 0, 0, 0.3) 80%,\n\t\trgba(0, 0, 0, 0.5) 85%,\n\t\trgba(0, 0, 0, 0.6) 90%,\n\t\trgba(0, 0, 0, 0.7) 95%,\n\t\trgba(0, 0, 0, 0.8) 100%\n\t);\n\n\tsvg {\n\t\theight: 26px;\n\t\twidth: 26px;\n\t}\n\n\t.button-view,\n\t.button-download {\n\t\tposition: absolute;\n\t\tbottom: 6px;\n\t\tleft: 7px;\n\t}\n\n\t:first-child {\n\t\tleft: 40px;\n\t}\n\n\t.button-view {\n\t\tmax-width: 18px;\n\t\tbottom: 8px;\n\t}\n}\n\n.message-options {\n\tbackground: rgba(0, 0, 0, 0.25);\n\tborder-radius: 50%;\n\tposition: absolute;\n\ttop: 7px;\n\tright: 14px;\n\n\tsvg {\n\t\theight: 17px;\n\t\twidth: 17px;\n\t}\n}\n\n.menu-options {\n\tright: 15px;\n}\n\n.menu-left {\n\tright: -118px;\n}\n\n.icon-check {\n\theight: 14px;\n\twidth: 14px;\n\tvertical-align: middle;\n\tmargin: -3px -3px 0 3px;\n}\n</style>\n","import mod from \"-!../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../demo/node_modules/thread-loader/dist/cjs.js!../../demo/node_modules/babel-loader/lib/index.js!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatMessage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../demo/node_modules/thread-loader/dist/cjs.js!../../demo/node_modules/babel-loader/lib/index.js!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatMessage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChatMessage.vue?vue&type=template&id=46d44830&scoped=true&\"\nimport script from \"./ChatMessage.vue?vue&type=script&lang=js&\"\nexport * from \"./ChatMessage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ChatMessage.vue?vue&type=style&index=0&id=46d44830&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"46d44830\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrapper\"},[_c('emoji-picker',{attrs:{\"search\":_vm.search},on:{\"emoji\":_vm.append},scopedSlots:_vm._u([{key:\"emoji-invoker\",fn:function(ref){\nvar clickEvent = ref.events.click;\nreturn _c('div',{staticClass:\"svg-button\",on:{\"click\":[function($event){$event.stopPropagation();return clickEvent($event)},_vm.openEmoji]}},[_c('svg-icon',{attrs:{\"name\":\"emoji\"}})],1)}},{key:\"emoji-picker\",fn:function(ref){\nvar emojis = ref.emojis;\nvar insert = ref.insert;\nreturn (_vm.emojiOpened)?_c('div',{},[_c('div',{staticClass:\"emoji-picker\"},[_c('div',{staticClass:\"emoji-picker__search\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.search),expression:\"search\"},{name:\"focus\",rawName:\"v-focus\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.search)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.search=$event.target.value}}})]),_c('div',_vm._l((emojis),function(emojiGroup,category){return _c('div',{key:category},[(category !== 'Frequently used')?_c('h5',[_vm._v(_vm._s(category))]):_vm._e(),(category !== 'Frequently used')?_c('div',{staticClass:\"emojis\"},_vm._l((emojiGroup),function(emoji,emojiName){return _c('span',{key:emojiName,attrs:{\"title\":emojiName},on:{\"click\":function($event){return insert(emoji)}}},[_vm._v(_vm._s(emoji))])}),0):_vm._e()])}),0)])]):_vm._e()}}],null,true)})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"wrapper\">\n\t\t<emoji-picker @emoji=\"append\" :search=\"search\">\n\t\t\t<div\n\t\t\t\tclass=\"svg-button\"\n\t\t\t\tslot=\"emoji-invoker\"\n\t\t\t\tslot-scope=\"{ events: { click: clickEvent } }\"\n\t\t\t\t@click.stop=\"clickEvent\"\n\t\t\t\t@click=\"openEmoji\"\n\t\t\t>\n\t\t\t\t<svg-icon name=\"emoji\" />\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tslot=\"emoji-picker\"\n\t\t\t\tslot-scope=\"{ emojis, insert }\"\n\t\t\t\tv-if=\"emojiOpened\"\n\t\t\t>\n\t\t\t\t<div class=\"emoji-picker\">\n\t\t\t\t\t<div class=\"emoji-picker__search\">\n\t\t\t\t\t\t<input type=\"text\" v-model=\"search\" v-focus />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div v-for=\"(emojiGroup, category) in emojis\" :key=\"category\">\n\t\t\t\t\t\t\t<h5 v-if=\"category !== 'Frequently used'\">{{ category }}</h5>\n\t\t\t\t\t\t\t<div class=\"emojis\" v-if=\"category !== 'Frequently used'\">\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tv-for=\"(emoji, emojiName) in emojiGroup\"\n\t\t\t\t\t\t\t\t\t:key=\"emojiName\"\n\t\t\t\t\t\t\t\t\t@click=\"insert(emoji)\"\n\t\t\t\t\t\t\t\t\t:title=\"emojiName\"\n\t\t\t\t\t\t\t\t\t>{{ emoji }}</span\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</emoji-picker>\n\t</div>\n</template>\n\n<script>\nimport EmojiPicker from 'vue-emoji-picker'\nimport SvgIcon from './SvgIcon'\n\nexport default {\n\tcomponents: {\n\t\tEmojiPicker,\n\t\tSvgIcon\n\t},\n\tprops: ['emojiOpened'],\n\tdata() {\n\t\treturn {\n\t\t\tsearch: ''\n\t\t}\n\t},\n\tmethods: {\n\t\tappend(emoji) {\n\t\t\tthis.$emit('addEmoji', emoji)\n\t\t},\n\t\topenEmoji() {\n\t\t\tthis.$emit('openEmoji', true)\n\t\t}\n\t},\n\tdirectives: {\n\t\tfocus: {\n\t\t\tinserted(el) {\n\t\t\t\tel.focus()\n\t\t\t}\n\t\t}\n\t}\n}\n</script>\n\n<style scoped>\n.wrapper {\n\tposition: relative;\n\tdisplay: flex;\n}\n\n.regular-input {\n\tpadding: 0.5rem 1rem;\n\tborder-radius: 3px;\n\tborder: var(--chat-border-style);\n\twidth: 20rem;\n\theight: 12rem;\n\toutline: none;\n}\n\n.emoji-picker {\n\tposition: absolute;\n\tbottom: 32px;\n\tright: 10px;\n\tborder: var(--chat-border-style);\n\twidth: 15rem;\n\theight: 20rem;\n\toverflow: scroll;\n\tpadding: 1rem;\n\tbox-sizing: border-box;\n\tborder-radius: 0.5rem;\n\tbackground: var(--chat-emoji-bg-color);\n}\n\n.emoji-picker__search {\n\tdisplay: flex;\n}\n\n.emoji-picker__search > input {\n\tflex: 1;\n\tborder-radius: 10rem;\n\tborder: var(--chat-border-style);\n\tpadding: 0.5rem 1rem;\n\toutline: none;\n\tbackground: var(--chat-bg-color-input);\n\tcolor: var(--chat-color);\n}\n\n.emoji-picker h5 {\n\tmargin-bottom: 0;\n\tcolor: #b1b1b1;\n\ttext-transform: uppercase;\n\tfont-size: 0.8rem;\n\tcursor: default;\n}\n\n.emoji-picker .emojis {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tjustify-content: space-between;\n}\n\n.emoji-picker .emojis:after {\n\tcontent: '';\n\tflex: auto;\n}\n\n.emoji-picker .emojis span {\n\tpadding: 0.2rem;\n\tcursor: pointer;\n\tborder-radius: 5px;\n}\n\n.emoji-picker .emojis span:hover {\n\tbackground: var(--chat-sidemenu-bg-color-hover);\n\tcursor: pointer;\n}\n</style>\n","import mod from \"-!../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../demo/node_modules/thread-loader/dist/cjs.js!../../demo/node_modules/babel-loader/lib/index.js!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./EmojiPicker.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../demo/node_modules/thread-loader/dist/cjs.js!../../demo/node_modules/babel-loader/lib/index.js!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./EmojiPicker.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EmojiPicker.vue?vue&type=template&id=98bb719a&scoped=true&\"\nimport script from \"./EmojiPicker.vue?vue&type=script&lang=js&\"\nexport * from \"./EmojiPicker.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EmojiPicker.vue?vue&type=style&index=0&id=98bb719a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"98bb719a\",\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<div class=\"col-messages\">\n\t\t<div class=\"room-header app-border-b\">\n\t\t\t<div\n\t\t\t\tv-if=\"room.avatar\"\n\t\t\t\tclass=\"room-avatar\"\n\t\t\t\t:style=\"{ background: `url(${room.avatar})` }\"\n\t\t\t></div>\n\t\t\t<div class=\"room-name\">{{ room.roomName }}</div>\n\t\t\t<div\n\t\t\t\tclass=\"svg-button room-options\"\n\t\t\t\tv-if=\"menuActions.length\"\n\t\t\t\t@click=\"menuOpened = !menuOpened\"\n\t\t\t>\n\t\t\t\t<svg-icon name=\"menu\" />\n\t\t\t</div>\n\t\t\t<transition name=\"slide-left\" v-if=\"menuActions.length\">\n\t\t\t\t<div v-if=\"menuOpened\" v-click-outside=\"closeMenu\" class=\"menu-options\">\n\t\t\t\t\t<div class=\"menu-list\">\n\t\t\t\t\t\t<div v-for=\"action in menuActions\" :key=\"action.name\">\n\t\t\t\t\t\t\t<div class=\"menu-item\" @click=\"menuActionHandler(action)\">\n\t\t\t\t\t\t\t\t{{ action.title }}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</transition>\n\t\t</div>\n\t\t<div class=\"container-scroll\">\n\t\t\t<div class=\"messages-container\">\n\t\t\t\t<chat-loader :show=\"loadingMessages\"></chat-loader>\n\t\t\t\t<transition name=\"fade-message\">\n\t\t\t\t\t<div class=\"text-started\" v-if=\"showNoMessages\">\n\t\t\t\t\t\t{{ textMessages.MESSAGES_EMPTY }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"text-started\" v-if=\"showMessagesStarted\">\n\t\t\t\t\t\t{{ textMessages.CONVERSATION_STARTED }} {{ messages[0].date }}\n\t\t\t\t\t</div>\n\t\t\t\t</transition>\n\t\t\t\t<transition name=\"fade-message\">\n\t\t\t\t\t<infinite-loading\n\t\t\t\t\t\tv-if=\"messages.length\"\n\t\t\t\t\t\tspinner=\"spiral\"\n\t\t\t\t\t\tdirection=\"top\"\n\t\t\t\t\t\t@infinite=\"loadMoreMessages\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div slot=\"no-results\"></div>\n\t\t\t\t\t\t<div slot=\"no-more\"></div>\n\t\t\t\t\t</infinite-loading>\n\t\t\t\t</transition>\n\t\t\t\t<transition-group name=\"fade-message\">\n\t\t\t\t\t<div v-for=\"(message, i) in messages\" :key=\"message._id\">\n\t\t\t\t\t\t<chat-message\n\t\t\t\t\t\t\t:message=\"message\"\n\t\t\t\t\t\t\t:index=\"i\"\n\t\t\t\t\t\t\t:messages=\"messages\"\n\t\t\t\t\t\t\t:editedMessage=\"editedMessage\"\n\t\t\t\t\t\t\t:messageActions=\"messageActions\"\n\t\t\t\t\t\t\t:roomUsers=\"room.users\"\n\t\t\t\t\t\t\t:textMessages=\"textMessages\"\n\t\t\t\t\t\t\t:roomFooterRef=\"$refs.roomFooter\"\n\t\t\t\t\t\t\t:newMessages=\"newMessages\"\n\t\t\t\t\t\t\t@messageActionHandler=\"messageActionHandler\"\n\t\t\t\t\t\t\t@openFile=\"openFile\"\n\t\t\t\t\t\t\t@addNewMessage=\"addNewMessage\"\n\t\t\t\t\t\t></chat-message>\n\t\t\t\t\t</div>\n\t\t\t\t</transition-group>\n\t\t\t</div>\n\t\t\t<transition name=\"bounce\">\n\t\t\t\t<div class=\"icon-scroll\" v-if=\"scrollIcon\" @click=\"scrollToBottom\">\n\t\t\t\t\t<svg-icon name=\"dropdown\" param=\"scroll\" />\n\t\t\t\t</div>\n\t\t\t</transition>\n\t\t</div>\n\t\t<div ref=\"roomFooter\" class=\"room-footer\">\n\t\t\t<transition name=\"slide-up\">\n\t\t\t\t<div v-if=\"messageReply\" class=\"reply-container\">\n\t\t\t\t\t<div class=\"reply-box\">\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tv-if=\"isImageCheck(messageReply.file)\"\n\t\t\t\t\t\t\t:src=\"messageReply.file.url\"\n\t\t\t\t\t\t\tclass=\"image-reply\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div class=\"reply-info\">\n\t\t\t\t\t\t\t<div class=\"reply-username\">{{ messageReply.username }}</div>\n\t\t\t\t\t\t\t<div class=\"reply-content\">{{ messageReply.content }}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"icon-reply\">\n\t\t\t\t\t\t<div class=\"svg-button\" @click=\"resetMessage\">\n\t\t\t\t\t\t\t<svg-icon name=\"close-outline\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</transition>\n\n\t\t\t<div class=\"box-footer\">\n\t\t\t\t<div class=\"image-container\" v-if=\"imageFile\">\n\t\t\t\t\t<div class=\"svg-button icon-image\" @click=\"resetImageFile\">\n\t\t\t\t\t\t<svg-icon name=\"close\" param=\"image\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"image-file\">\n\t\t\t\t\t\t<img ref=\"imageFile\" :src=\"imageFile\" />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"file-container\" v-else-if=\"file\">\n\t\t\t\t\t<div class=\"icon-file\">\n\t\t\t\t\t\t<svg-icon name=\"file\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>{{ message }}</div>\n\t\t\t\t\t<div class=\"svg-button icon-remove\" @click=\"resetMessage\">\n\t\t\t\t\t\t<svg-icon name=\"close\" />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<textarea\n\t\t\t\t\tv-show=\"!file || imageFile\"\n\t\t\t\t\tref=\"roomTextarea\"\n\t\t\t\t\t:placeholder=\"textMessages.TYPE_MESSAGE\"\n\t\t\t\t\t:class=\"{\n\t\t\t\t\t\t'textarea-outline': editedMessage._id,\n\t\t\t\t\t\t'textarea-image': imageFile\n\t\t\t\t\t}\"\n\t\t\t\t\t:style=\"{\n\t\t\t\t\t\theight: `${imageDimensions.height}px`,\n\t\t\t\t\t\t'min-height': `${imageDimensions.height - 14}px`,\n\t\t\t\t\t\t'padding-left': `${imageDimensions.width + 6}px`\n\t\t\t\t\t}\"\n\t\t\t\t\tv-model=\"message\"\n\t\t\t\t\t@input=\"autoGrow\"\n\t\t\t\t\t@keydown.esc=\"resetMessage\"\n\t\t\t\t\t@keydown.enter.exact.prevent=\"sendMessage\"\n\t\t\t\t></textarea>\n\n\t\t\t\t<div class=\"icon-textarea\">\n\t\t\t\t\t<emoji-picker\n\t\t\t\t\t\tv-if=\"showEmojis && (!file || imageFile)\"\n\t\t\t\t\t\t@addEmoji=\"addEmoji\"\n\t\t\t\t\t\t:emojiOpened=\"emojiOpened\"\n\t\t\t\t\t\t@openEmoji=\"emojiOpened = $event\"\n\t\t\t\t\t></emoji-picker>\n\n\t\t\t\t\t<div v-if=\"showFiles\" class=\"svg-button\" @click=\"launchFilePicker\">\n\t\t\t\t\t\t<svg-icon name=\"paperclip\" />\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<input\n\t\t\t\t\t\tv-if=\"showFiles\"\n\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\tref=\"file\"\n\t\t\t\t\t\t@change=\"onFileChange($event.target.files)\"\n\t\t\t\t\t\tstyle=\"display:none\"\n\t\t\t\t\t/>\n\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"svg-button\"\n\t\t\t\t\t\tv-if=\"editedMessage._id\"\n\t\t\t\t\t\t@click=\"resetMessage\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<svg-icon name=\"close-outline\" />\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-else\n\t\t\t\t\t\t@click=\"sendMessage\"\n\t\t\t\t\t\tclass=\"svg-button\"\n\t\t\t\t\t\t:class=\"{ 'send-disabled': inputDisabled }\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<svg-icon name=\"send\" :param=\"inputDisabled ? 'disabled' : ''\" />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport InfiniteLoading from 'vue-infinite-loading'\nimport vClickOutside from 'v-click-outside'\nimport ChatLoader from './ChatLoader'\nimport ChatMessage from './ChatMessage'\nimport SvgIcon from './SvgIcon'\nimport EmojiPicker from './EmojiPicker'\n\nexport default {\n\tname: 'messages-list',\n\tcomponents: {\n\t\tInfiniteLoading,\n\t\tChatLoader,\n\t\tChatMessage,\n\t\tSvgIcon,\n\t\tEmojiPicker\n\t},\n\n\tdirectives: {\n\t\tclickOutside: vClickOutside.directive\n\t},\n\n\tprops: {\n\t\troom: { type: Object, required: true },\n\t\tmessages: { type: Array, required: true },\n\t\tmessagesLoaded: { type: Boolean, required: true },\n\t\tmenuActions: { type: Array, required: true },\n\t\tmessageActions: { type: Array, required: true },\n\t\tshowFiles: { type: Boolean, required: true },\n\t\tshowEmojis: { type: Boolean, required: true },\n\t\ttextMessages: { type: Object, required: true }\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\tmessage: '',\n\t\t\teditedMessage: {},\n\t\t\tmessageReply: null,\n\t\t\tinfiniteState: null,\n\t\t\tloadingMessages: false,\n\t\t\tfile: null,\n\t\t\timageFile: null,\n\t\t\timageDimensions: { height: '32px', width: '10px' },\n\t\t\tmenuOpened: false,\n\t\t\temojiOpened: false,\n\t\t\tscrollIcon: false,\n\t\t\tnewMessages: []\n\t\t}\n\t},\n\n\tmounted() {\n\t\tthis.newMessages = []\n\n\t\twindow.addEventListener('keypress', e => {\n\t\t\tif (e.keyCode === 13 && !e.shiftKey) this.sendMessage()\n\t\t})\n\n\t\tdocument\n\t\t\t.getElementsByClassName('container-scroll')[0]\n\t\t\t.addEventListener('scroll', e => {\n\t\t\t\tthis.scrollIcon =\n\t\t\t\t\te.target.scrollHeight > 500 &&\n\t\t\t\t\te.target.scrollHeight - e.target.scrollTop > 1000\n\t\t\t})\n\t},\n\n\twatch: {\n\t\tloadingMessages(val) {\n\t\t\tif (val) this.infiniteState = null\n\t\t\telse this.focusTextarea()\n\t\t},\n\t\troom() {\n\t\t\tthis.loadingMessages = true\n\t\t\tthis.resetMessage()\n\t\t},\n\t\tmessages(newVal, oldVal) {\n\t\t\tconst element = document.getElementsByClassName('container-scroll')[0]\n\t\t\tconst options = { top: element.scrollHeight }\n\n\t\t\tif (oldVal && newVal && oldVal.length === newVal.length - 1) {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\toptions.behavior = 'smooth'\n\t\t\t\t\telement.scrollTo(options)\n\t\t\t\t}, 0)\n\t\t\t}\n\n\t\t\tif (this.infiniteState) {\n\t\t\t\tthis.infiniteState.loaded()\n\t\t\t} else if (newVal.length) {\n\t\t\t\tthis.loadingMessages = false\n\t\t\t\tsetTimeout(() => element.scrollTo(options), 0)\n\t\t\t}\n\t\t},\n\t\tmessagesLoaded(val) {\n\t\t\tif (val) this.loadingMessages = false\n\t\t\tif (this.infiniteState) this.infiniteState.complete()\n\t\t},\n\t\timageFile() {\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (!this.$refs.imageFile)\n\t\t\t\t\treturn (this.imageDimensions = { height: 32, width: 10 })\n\n\t\t\t\tthis.imageDimensions = {\n\t\t\t\t\theight: this.$refs.imageFile.height + 2,\n\t\t\t\t\twidth: this.$refs.imageFile.width + 20\n\t\t\t\t}\n\t\t\t}, 20)\n\t\t}\n\t},\n\n\tcomputed: {\n\t\tshowNoMessages() {\n\t\t\treturn this.room.roomId && !this.messages.length && !this.loadingMessages\n\t\t},\n\t\tshowMessagesStarted() {\n\t\t\treturn this.messages.length && this.messagesLoaded\n\t\t},\n\t\tinputDisabled() {\n\t\t\treturn this.isMessageEmpty()\n\t\t}\n\t},\n\n\tmethods: {\n\t\taddNewMessage(message) {\n\t\t\tthis.newMessages.push(message)\n\t\t},\n\t\tresetMessage() {\n\t\t\tthis.resetTextareaSize()\n\t\t\tthis.message = ''\n\t\t\tthis.editedMessage = {}\n\t\t\tthis.messageReply = null\n\t\t\tthis.file = null\n\t\t\tthis.imageFile = null\n\t\t\tthis.emojiOpened = false\n\t\t\tsetTimeout(() => this.focusTextarea(), 0)\n\t\t},\n\t\tresetImageFile() {\n\t\t\tthis.imageFile = null\n\t\t\tthis.editedMessage.file = null\n\t\t\tthis.file = null\n\t\t\tthis.focusTextarea()\n\t\t},\n\t\tresetTextareaSize() {\n\t\t\tthis.$refs['roomTextarea'].style.height = '32px'\n\t\t},\n\t\tfocusTextarea() {\n\t\t\tthis.$refs['roomTextarea'].focus()\n\t\t},\n\t\tisMessageEmpty() {\n\t\t\treturn !this.file && !this.message.trim()\n\t\t},\n\t\tsendMessage() {\n\t\t\tif (!this.file && !this.message.trim()) return\n\n\t\t\tif (this.editedMessage._id) {\n\t\t\t\tif (this.editedMessage.content !== this.message || this.file) {\n\t\t\t\t\tthis.$emit('editMessage', {\n\t\t\t\t\t\tmessageId: this.editedMessage._id,\n\t\t\t\t\t\tnewContent: this.message.trim(),\n\t\t\t\t\t\tfile: this.file,\n\t\t\t\t\t\treplyMessage: this.messageReply\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.$emit('sendMessage', {\n\t\t\t\t\tcontent: this.message.trim(),\n\t\t\t\t\tfile: this.file,\n\t\t\t\t\treplyMessage: this.messageReply\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tthis.resetMessage()\n\t\t},\n\t\tloadMoreMessages(infiniteState) {\n\t\t\tif (this.messagesLoaded || !this.room.roomId) {\n\t\t\t\treturn infiniteState.complete()\n\t\t\t}\n\t\t\tthis.infiniteState = infiniteState\n\t\t\tthis.$emit('fetchMessages')\n\t\t},\n\t\tmessageActionHandler({ action, message }) {\n\t\t\tswitch (action.name) {\n\t\t\t\tcase 'replyMessage':\n\t\t\t\t\treturn this.replyMessage(message)\n\t\t\t\tcase 'editMessage':\n\t\t\t\t\treturn this.editMessage(message)\n\t\t\t\tcase 'deleteMessage':\n\t\t\t\t\treturn this.$emit('deleteMessage', message._id)\n\t\t\t\tdefault:\n\t\t\t\t\treturn this.$emit('messageActionHandler', message)\n\t\t\t}\n\t\t},\n\t\treplyMessage(message) {\n\t\t\tthis.resetMessage()\n\t\t\tthis.messageReply = message\n\t\t},\n\t\teditMessage(message) {\n\t\t\tthis.resetMessage()\n\t\t\tthis.editedMessage = { ...message }\n\t\t\tthis.file = message.file\n\t\t\tif (this.isImageCheck(this.file)) this.imageFile = message.file.url\n\t\t\tthis.message = message.content\n\n\t\t\tsetTimeout(() => this.resizeTextarea(this.$refs['roomTextarea']), 0)\n\t\t},\n\t\tscrollToBottom() {\n\t\t\tconst element = document.getElementsByClassName('container-scroll')[0]\n\t\t\telement.scrollTo({ top: element.scrollHeight, behavior: 'smooth' })\n\t\t},\n\t\tautoGrow(el) {\n\t\t\tthis.resizeTextarea(el.srcElement)\n\t\t},\n\t\tresizeTextarea(textarea) {\n\t\t\ttextarea.style.height = 0\n\t\t\ttextarea.style.height = textarea.scrollHeight + 2 + 'px'\n\t\t},\n\t\taddEmoji(emoji) {\n\t\t\tthis.message += emoji\n\t\t\tthis.focusTextarea()\n\t\t},\n\t\tlaunchFilePicker() {\n\t\t\tthis.$refs.file.value = ''\n\t\t\tthis.$refs.file.click()\n\t\t},\n\t\tasync onFileChange(files) {\n\t\t\tthis.resetImageFile()\n\t\t\tconst file = files[0]\n\t\t\tconst fileURL = URL.createObjectURL(file)\n\t\t\tconst blobFile = await fetch(fileURL).then(res => res.blob())\n\n\t\t\tthis.file = {\n\t\t\t\tblob: blobFile,\n\t\t\t\tname: file.name.split('.')[0],\n\t\t\t\tsize: file.size,\n\t\t\t\ttype: file.name.split('.')[1] || file.type,\n\t\t\t\tlocalUrl: fileURL\n\t\t\t}\n\t\t\tif (this.isImageCheck(this.file)) this.imageFile = fileURL\n\t\t\telse this.message = file.name\n\t\t},\n\t\tisImageCheck(file) {\n\t\t\tif (!file) return\n\t\t\tconst imageTypes = ['png', 'jpg']\n\t\t\tconst { type } = file\n\t\t\treturn imageTypes.some(t => type.includes(t))\n\t\t},\n\t\topenFile(message) {\n\t\t\tthis.$emit('openFile', message)\n\t\t},\n\t\tmenuActionHandler(action) {\n\t\t\tthis.closeMenu()\n\t\t\tthis.$emit('menuActionHandler', action)\n\t\t},\n\t\tcloseMenu() {\n\t\t\tthis.menuOpened = false\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.col-messages {\n\tflex: 0 0 75%;\n\tmax-width: 75%;\n\tposition: relative;\n\theight: 100%;\n}\n\n.room-header {\n\talign-items: center;\n\tdisplay: flex;\n\tflex: 1 1 100%;\n\tpadding: 0 16px;\n\tposition: relative;\n\theight: 64px;\n\tmargin-right: 1px;\n\tbackground: var(--chat-header-bg-color);\n\tborder-top-right-radius: 4px;\n}\n\n.room-name {\n\tfont-size: 17px;\n}\n\n.room-options {\n\tmargin-left: auto;\n}\n\n.container-scroll {\n\tbackground: var(--chat-content-bg-color);\n\theight: calc(100% - 110px);\n\toverflow-y: auto;\n\tmargin-right: 1px;\n}\n\n.messages-container {\n\tpadding: 0 5px 20px;\n}\n\n.text-started {\n\tfont-size: 14px;\n\tcolor: #9ca6af;\n\tfont-style: italic;\n\ttext-align: center;\n\tmargin-top: 27px;\n\tmargin-bottom: 20px;\n}\n\n.icon-scroll {\n\tposition: absolute;\n\tbottom: 80px;\n\tright: 20px;\n\tpadding: 8px;\n\tbackground: var(--chat-bg-scroll-icon);\n\tborder-radius: 50%;\n\tbox-shadow: 0 1px 1px -1px rgba(0, 0, 0, 0.2), 0 1px 1px 0 rgba(0, 0, 0, 0.14),\n\t\t0 1px 2px 0 rgba(0, 0, 0, 0.12);\n\tdisplay: flex;\n\tcursor: pointer;\n\n\tsvg {\n\t\theight: 25px;\n\t\twidth: 25px;\n\t}\n}\n\n.room-footer {\n\tposition: absolute;\n\tbottom: 0;\n\twidth: calc(100% - 1px);\n\tborder-bottom-right-radius: 4px;\n}\n\n.box-footer {\n\tdisplay: flex;\n\tbackground: var(--chat-footer-bg-color);\n\tpadding: 0 8px 10px;\n}\n\n.reply-container {\n\tdisplay: flex;\n\tpadding: 10px 10px 10px;\n\tbackground: var(--chat-content-bg-color);\n\talign-items: center;\n\tmax-width: 100%;\n\n\t.reply-box {\n\t\twidth: 100%;\n\t\toverflow: hidden;\n\t\tbackground: var(--chat-footer-bg-color-reply);\n\t\tborder-radius: 4px;\n\t\tpadding: 8px 10px;\n\t\tdisplay: flex;\n\t}\n\n\t.reply-info {\n\t\toverflow: hidden;\n\t}\n\n\t.reply-username {\n\t\tcolor: var(--chat-message-color-reply-username);\n\t\tfont-size: 12px;\n\t\tline-height: 15px;\n\t\tmargin-bottom: 2px;\n\t}\n\n\t.reply-content {\n\t\tfont-size: 12px;\n\t\tcolor: var(--chat-message-color-reply-content);\n\t}\n\n\t.icon-reply {\n\t\tmargin-left: 10px;\n\t}\n\n\t.image-reply {\n\t\tmax-height: 100px;\n\t\tmargin-right: 10px;\n\t}\n}\n\ntextarea {\n\tbackground: var(--chat-bg-color-input);\n\tcolor: var(--chat-color);\n\tborder-radius: 20px;\n\tpadding: 12px 140px 0 16px;\n\toverflow: hidden;\n\toutline: 0;\n\twidth: 100%;\n\tresize: none;\n\theight: 32px;\n\tcaret-color: var(--chat-color-caret);\n\tborder: var(--chat-border-style-input);\n\tfont-size: 16px;\n\n\t&::placeholder {\n\t\tcolor: var(--chat-color-placeholder);\n\t}\n}\n\n.textarea-outline {\n\tborder: 2px solid var(--chat-border-color-input-selected);\n}\n\n.textarea-image {\n\tpadding-left: 200px;\n}\n\n.icon-textarea {\n\tposition: absolute;\n\tright: 20px;\n\tdisplay: flex;\n\tmargin: 12px 0 0 5px;\n\n\tsvg,\n\t.wrapper {\n\t\tmargin: 0 7px;\n\t}\n}\n\n.image-container {\n\tposition: absolute;\n\tleft: 16px;\n\tbottom: 18px;\n}\n\n.image-file {\n\tdisplay: flex;\n\n\timg {\n\t\tborder-radius: 20px;\n\t\tmax-width: 250px;\n\t\tmax-height: 100%;\n\t}\n}\n\n.icon-image {\n\tposition: absolute;\n\ttop: 10px;\n\tleft: 10px;\n\n\tsvg {\n\t\theight: 20px;\n\t\twidth: 20px;\n\t\tborder-radius: 50%;\n\t\tbox-shadow: 0 1px 3px -1px rgba(0, 0, 0, 0.2),\n\t\t\t0 1px 3px 1px rgba(0, 0, 0, 0.12), 0 1px 3px 1px rgba(0, 0, 0, 0.1);\n\t}\n}\n\n.file-container {\n\tdisplay: flex;\n\talign-items: center;\n\twidth: 100%;\n\theight: 44px;\n\tbackground: var(--chat-bg-color-input);\n\tborder: var(--chat-border-style-input);\n\tborder-radius: 20px;\n}\n\n.icon-file {\n\tdisplay: flex;\n\tmargin: 0 8px 0 15px;\n}\n\n.icon-remove {\n\tmargin-left: 8px;\n\n\tsvg {\n\t\theight: 18px;\n\t\twidth: 18px;\n\t}\n}\n\n.send-disabled,\n.send-disabled svg {\n\tcursor: none !important;\n\tpointer-events: none !important;\n\ttransform: none !important;\n}\n</style>\n","import mod from \"-!../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../demo/node_modules/thread-loader/dist/cjs.js!../../demo/node_modules/babel-loader/lib/index.js!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./MessagesList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../demo/node_modules/thread-loader/dist/cjs.js!../../demo/node_modules/babel-loader/lib/index.js!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./MessagesList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MessagesList.vue?vue&type=template&id=e3140410&scoped=true&\"\nimport script from \"./MessagesList.vue?vue&type=script&lang=js&\"\nexport * from \"./MessagesList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MessagesList.vue?vue&type=style&index=0&id=e3140410&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e3140410\",\n  null\n  \n)\n\nexport default component.exports","export default {\n\tNEW_MESSAGES: 'New Messages',\n\tMESSAGE_DELETED: 'This message was deleted',\n\tMESSAGES_EMPTY: 'No messages',\n\tCONVERSATION_STARTED: 'Conversation started on:',\n\tTYPE_MESSAGE: 'Type message',\n\tSEARCH: 'Search'\n}\n","export const defaultThemeColors = {\n\tlight: {\n\t\tgeneral: {\n\t\t\tcolor: '#0a0a0a',\n\t\t\tbackgroundInput: '#fff',\n\t\t\tcolorPlaceholder: '#9ca6af',\n\t\t\tcolorCaret: '#1976d2',\n\t\t\tcolorSpinner: '#333',\n\t\t\tborderStyle: '1px solid #e1e4e8',\n\t\t\tbackgroundScrollIcon: '#fff'\n\t\t},\n\n\t\theader: {\n\t\t\tbackground: '#fff'\n\t\t},\n\n\t\tfooter: {\n\t\t\tbackground: 'none',\n\t\t\tborderStyleInput: '1px solid #e1e4e8',\n\t\t\tborderInputSelected: '#1976d2',\n\t\t\tbackgroundReply: 'rgba(0, 0, 0, 0.08)'\n\t\t},\n\n\t\tcontent: {\n\t\t\tbackground: '#f8f9fa'\n\t\t},\n\n\t\tsidemenu: {\n\t\t\tbackground: '#fff',\n\t\t\tbackgroundHover: '#f6f6f6',\n\t\t\tbackgroundActive: '#e5effa',\n\t\t\tcolorActive: '#1976d2',\n\t\t\tborderColorSearch: '#e1e5e8'\n\t\t},\n\n\t\tdropdown: {\n\t\t\tbackground: '#fff',\n\t\t\tbackgroundHover: '#f6f6f6'\n\t\t},\n\n\t\tmessage: {\n\t\t\tbackground: '#fff',\n\t\t\tbackgroundMe: '#ccf2cf',\n\t\t\tcolor: '#0a0a0a',\n\t\t\tbackgroundDeleted: '#dadfe2',\n\t\t\tcolorDeleted: '#757e85',\n\t\t\tcolorUsername: '#9ca6af',\n\t\t\tcolorTimestamp: '#828c94',\n\t\t\tbackgroundDate: '#e5effa',\n\t\t\tcolorDate: '#505a62',\n\t\t\tbackgroundReply: 'rgba(0, 0, 0, 0.08)',\n\t\t\tcolorReplyUsername: '#0a0a0a',\n\t\t\tcolorReply: '#6e6e6e',\n\t\t\tbackgroundImage: '#ddd',\n\t\t\tcolorNewMessages: '#1976d2'\n\t\t},\n\n\t\troom: {\n\t\t\tcolorUsername: '#0a0a0a',\n\t\t\tcolorMessage: '#67717a',\n\t\t\tcolorTimestamp: '#a2aeb8',\n\t\t\tcolorNewDot: '#1976d2'\n\t\t},\n\n\t\temoji: {\n\t\t\tbackground: '#fff'\n\t\t},\n\n\t\ticons: {\n\t\t\tsearch: '#9ca6af',\n\t\t\tadd: '#1976d2',\n\t\t\tmenu: '#0a0a0a',\n\t\t\tclose: '#9ca6af',\n\t\t\tcloseImage: '#fff',\n\t\t\tfile: '#1976d2',\n\t\t\tpaperclip: '#1976d2',\n\t\t\tcloseOutline: '#000',\n\t\t\tsend: '#1976d2',\n\t\t\tsendDisabled: '#9ca6af',\n\t\t\temoji: '#1976d2',\n\t\t\tdocument: '#1976d2',\n\t\t\tpencil: '#9e9e9e',\n\t\t\tcheckmark: '#0696c7',\n\t\t\teye: '#fff',\n\t\t\tdropdown: '#fff',\n\t\t\tdropdownScroll: '#0a0a0a'\n\t\t}\n\t},\n\tdark: {\n\t\tgeneral: {\n\t\t\tcolor: '#fff',\n\t\t\tbackgroundInput: '#202223',\n\t\t\tcolorPlaceholder: '#596269',\n\t\t\tcolorCaret: '#1976d2',\n\t\t\tcolorSpinner: '#fff',\n\t\t\tborderStyle: 'none',\n\t\t\tbackgroundScrollIcon: '#fff'\n\t\t},\n\n\t\theader: {\n\t\t\tbackground: '#181a1b'\n\t\t},\n\n\t\tfooter: {\n\t\t\tbackground: 'none',\n\t\t\tborderStyleInput: 'none',\n\t\t\tborderInputSelected: '#1976d2',\n\t\t\tbackgroundReply: '#1b1c1c'\n\t\t},\n\n\t\tcontent: {\n\t\t\tbackground: '#131415'\n\t\t},\n\n\t\tsidemenu: {\n\t\t\tbackground: '#181a1b',\n\t\t\tbackgroundHover: '#202224',\n\t\t\tbackgroundActive: '#151617',\n\t\t\tcolorActive: '#fff',\n\t\t\tborderColorSearch: '#181a1b'\n\t\t},\n\n\t\tdropdown: {\n\t\t\tbackground: '#2a2c33',\n\t\t\tbackgroundHover: '#26282e'\n\t\t},\n\n\t\tmessage: {\n\t\t\tbackground: '#22242a',\n\t\t\tbackgroundMe: '#4fb381',\n\t\t\tcolor: '#fff',\n\t\t\tbackgroundDeleted: '#1b1c21',\n\t\t\tcolorDeleted: '#a2a5a8',\n\t\t\tcolorUsername: '#b3bac9',\n\t\t\tcolorTimestamp: '#ebedf2',\n\t\t\tbackgroundDate: 'rgba(0, 0, 0, 0.1)',\n\t\t\tcolorDate: '#9ca6af',\n\t\t\tbackgroundReply: 'rgba(0, 0, 0, 0.18)',\n\t\t\tcolorReplyUsername: '#fff',\n\t\t\tcolorReply: '#d6d6d6',\n\t\t\tbackgroundImage: '#ddd',\n\t\t\tcolorNewMessages: '#fff'\n\t\t},\n\n\t\troom: {\n\t\t\tcolorUsername: '#fff',\n\t\t\tcolorMessage: '#6c7278',\n\t\t\tcolorTimestamp: '#6c7278',\n\t\t\tcolorNewDot: '#1976d2'\n\t\t},\n\n\t\temoji: {\n\t\t\tbackground: '#343740'\n\t\t},\n\n\t\ticons: {\n\t\t\tsearch: '#596269',\n\t\t\tadd: '#fff',\n\t\t\tmenu: '#fff',\n\t\t\tclose: '#9ca6af',\n\t\t\tcloseImage: '#fff',\n\t\t\tfile: '#1976d2',\n\t\t\tpaperclip: '#fff',\n\t\t\tcloseOutline: '#fff',\n\t\t\tsend: '#fff',\n\t\t\tsendDisabled: '#646a70',\n\t\t\temoji: '#fff',\n\t\t\tdocument: '#1976d2',\n\t\t\tpencil: '#ebedf2',\n\t\t\tcheckmark: '#f0d90a',\n\t\t\teye: '#fff',\n\t\t\tdropdown: '#fff',\n\t\t\tdropdownScroll: '#0a0a0a'\n\t\t}\n\t}\n}\n\nexport const cssThemeVars = ({\n\tgeneral,\n\theader,\n\tfooter,\n\tsidemenu,\n\tcontent,\n\tdropdown,\n\tmessage,\n\troom,\n\temoji,\n\ticons\n}) => {\n\treturn {\n\t\t// general\n\t\t'--chat-color': general.color,\n\t\t'--chat-bg-color-input': general.backgroundInput,\n\t\t'--chat-color-spinner': general.colorSpinner,\n\t\t'--chat-color-placeholder': general.colorPlaceholder,\n\t\t'--chat-color-caret': general.colorCaret,\n\t\t'--chat-border-style': general.borderStyle,\n\t\t'--chat-bg-scroll-icon': general.backgroundScrollIcon,\n\n\t\t// header\n\t\t'--chat-header-bg-color': header.background,\n\n\t\t// footer\n\t\t'--chat-footer-bg-color': footer.background,\n\t\t'--chat-border-style-input': footer.borderStyleInput,\n\t\t'--chat-border-color-input-selected': footer.borderInputSelected,\n\t\t'--chat-footer-bg-color-reply': footer.backgroundReply,\n\n\t\t// content\n\t\t'--chat-content-bg-color': content.background,\n\n\t\t// sidemenu\n\t\t'--chat-sidemenu-bg-color': sidemenu.background,\n\t\t'--chat-sidemenu-bg-color-hover': sidemenu.backgroundHover,\n\t\t'--chat-sidemenu-bg-color-active': sidemenu.backgroundActive,\n\t\t'--chat-sidemenu-color-active': sidemenu.colorActive,\n\t\t'--chat-sidemenu-border-color-search': sidemenu.borderColorSearch,\n\n\t\t// dropdown\n\t\t'--chat-dropdown-bg-color': dropdown.background,\n\t\t'--chat-dropdown-bg-color-hover': dropdown.backgroundHover,\n\n\t\t// message\n\t\t'--chat-message-bg-color': message.background,\n\t\t'--chat-message-bg-color-me': message.backgroundMe,\n\t\t'--chat-message-bg-color-deleted': message.backgroundDeleted,\n\t\t'--chat-message-color-deleted': message.colorDeleted,\n\t\t'--chat-message-color-username': message.colorUsername,\n\t\t'--chat-message-color-timestamp': message.colorTimestamp,\n\t\t'--chat-message-bg-color-date': message.backgroundDate,\n\t\t'--chat-message-color-date': message.colorDate,\n\t\t'--chat-message-color': message.color,\n\t\t'--chat-message-bg-color-reply': message.backgroundReply,\n\t\t'--chat-message-color-reply-username': message.colorReplyUsername,\n\t\t'--chat-message-color-reply-content': message.colorReply,\n\t\t'--chat-message-bg-color-image': message.backgroundImage,\n\t\t'--chat-message-color-new-messages': message.colorNewMessages,\n\n\t\t// room\n\t\t'--chat-room-color-username': room.colorUsername,\n\t\t'--chat-room-color-message': room.colorMessage,\n\t\t'--chat-room-color-timestamp': room.colorTimestamp,\n\t\t'--chat-room-color-new-dot': room.colorNewDot,\n\n\t\t// emoji\n\t\t'--chat-emoji-bg-color': emoji.background,\n\n\t\t// icons\n\t\t'--chat-icon-color-search': icons.search,\n\t\t'--chat-icon-color-add': icons.add,\n\t\t'--chat-icon-color-menu': icons.menu,\n\t\t'--chat-icon-color-close': icons.close,\n\t\t'--chat-icon-color-close-image': icons.closeImage,\n\t\t'--chat-icon-color-file': icons.file,\n\t\t'--chat-icon-color-paperclip': icons.paperclip,\n\t\t'--chat-icon-color-close-outline': icons.closeOutline,\n\t\t'--chat-icon-color-send': icons.send,\n\t\t'--chat-icon-color-send-disabled': icons.sendDisabled,\n\t\t'--chat-icon-color-emoji': icons.emoji,\n\t\t'--chat-icon-color-document': icons.document,\n\t\t'--chat-icon-color-pencil': icons.pencil,\n\t\t'--chat-icon-color-checkmark': icons.checkmark,\n\t\t'--chat-icon-color-eye': icons.eye,\n\t\t'--chat-icon-color-dropdown': icons.dropdown,\n\t\t'--chat-icon-color-dropdown-scroll': icons.dropdownScroll\n\t}\n}\n","<template>\n\t<div class=\"card-window\" :style=\"[{ height }, cssVars]\">\n\t\t<div class=\"chat-container\">\n\t\t\t<rooms-list\n\t\t\t\t:rooms=\"rooms\"\n\t\t\t\t:loadingRooms=\"loadingRooms\"\n\t\t\t\t:room=\"room\"\n\t\t\t\t:textMessages=\"t\"\n\t\t\t\t@fetchRoom=\"fetchRoom\"\n\t\t\t\t@addRoom=\"addRoom\"\n\t\t\t>\n\t\t\t</rooms-list>\n\t\t\t<messages-list\n\t\t\t\t:room=\"room\"\n\t\t\t\t:messages=\"messages\"\n\t\t\t\t:messagesLoaded=\"messagesLoaded\"\n\t\t\t\t:menuActions=\"menuActions\"\n\t\t\t\t:messageActions=\"messageActions\"\n\t\t\t\t:showFiles=\"showFiles\"\n\t\t\t\t:showEmojis=\"showEmojis\"\n\t\t\t\t:textMessages=\"t\"\n\t\t\t\t@fetchMessages=\"fetchMessages\"\n\t\t\t\t@sendMessage=\"sendMessage\"\n\t\t\t\t@editMessage=\"editMessage\"\n\t\t\t\t@deleteMessage=\"deleteMessage\"\n\t\t\t\t@openFile=\"openFile\"\n\t\t\t\t@menuActionHandler=\"menuActionHandler\"\n\t\t\t\t@messageActionHandler=\"messageActionHandler\"\n\t\t\t>\n\t\t\t</messages-list>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport RoomsList from './RoomsList'\nimport MessagesList from './MessagesList'\nconst { roomsValid, partcipantsValid } = require('../utils/roomValidation')\nimport locales from '../locales'\nimport { defaultThemeColors, cssThemeVars } from '../themes'\n\nexport default {\n\tname: 'chat-container',\n\tcomponents: {\n\t\tRoomsList,\n\t\tMessagesList\n\t},\n\n\tprops: {\n\t\theight: { type: String, default: '600px' },\n\t\trooms: { type: Array, default: () => [] },\n\t\tloadingRooms: { type: Boolean, default: false },\n\t\tmessages: { type: Array, default: () => [] },\n\t\tmessagesLoaded: { type: Boolean, default: false },\n\t\tmenuActions: { type: Array, default: () => [] },\n\t\tmessageActions: {\n\t\t\ttype: Array,\n\t\t\tdefault: () => [\n\t\t\t\t{ name: 'replyMessage', title: 'Reply' },\n\t\t\t\t{ name: 'editMessage', title: 'Edit Message', onlyMe: true },\n\t\t\t\t{ name: 'deleteMessage', title: 'Delete Message', onlyMe: true }\n\t\t\t]\n\t\t},\n\t\tshowFiles: { type: Boolean, default: true },\n\t\tshowEmojis: { type: Boolean, default: true },\n\t\ttextMessages: { type: Object, default: null },\n\t\ttheme: { type: String, default: 'light' },\n\t\tcolors: { type: Object, default: null }\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\troom: {}\n\t\t}\n\t},\n\n\twatch: {\n\t\trooms(val) {\n\t\t\tif (val[0]) this.fetchRoom({ room: val[0] })\n\t\t},\n\n\t\troom(val) {\n\t\t\tif (!val) return\n\n\t\t\tif (Object.entries(val).length === 0) return\n\n\t\t\tif (!roomsValid(val))\n\t\t\t\tthrow 'Rooms object is not valid! Must contain roomId[String, Number], roomName[String] and users[Array]'\n\n\t\t\tval.users.forEach(user => {\n\t\t\t\tif (!partcipantsValid(user))\n\t\t\t\t\tthrow 'Participants object is not valid! Must contain _id[String, Number] and username[String]'\n\t\t\t})\n\t\t}\n\t},\n\n\tcomputed: {\n\t\tt() {\n\t\t\treturn {\n\t\t\t\t...locales,\n\t\t\t\t...this.textMessages\n\t\t\t}\n\t\t},\n\t\tcssVars() {\n\t\t\tconst themeColors = {\n\t\t\t\t...defaultThemeColors[this.theme],\n\t\t\t\t...this.colors\n\t\t\t}\n\n\t\t\treturn cssThemeVars(themeColors)\n\t\t}\n\t},\n\n\tmethods: {\n\t\tfetchRoom({ room }) {\n\t\t\tthis.room = room\n\t\t\tthis.fetchMessages({ reset: true })\n\t\t},\n\t\taddRoom() {\n\t\t\tthis.$emit('addRoom')\n\t\t},\n\t\tfetchMessages(options) {\n\t\t\tthis.$emit('fetchMessages', { room: this.room, options })\n\t\t},\n\t\tsendMessage(message) {\n\t\t\tthis.$emit('sendMessage', { ...message, roomId: this.room.roomId })\n\t\t},\n\t\teditMessage(message) {\n\t\t\tthis.$emit('editMessage', { ...message, roomId: this.room.roomId })\n\t\t},\n\t\tdeleteMessage(messageId) {\n\t\t\tthis.$emit('deleteMessage', { messageId, roomId: this.room.roomId })\n\t\t},\n\t\topenFile(message) {\n\t\t\tthis.$emit('openFile', message)\n\t\t},\n\t\tmenuActionHandler(ev) {\n\t\t\tthis.$emit('menuActionHandler', { action: ev, roomId: this.room.roomId })\n\t\t},\n\t\tmessageActionHandler(ev) {\n\t\t\tthis.$emit('messageActionHandler', {\n\t\t\t\taction: ev,\n\t\t\t\troomId: this.room.roomId\n\t\t\t})\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\">\n@import '../styles/index.scss';\n\n.card-window {\n\twidth: 100%;\n\tborder-radius: 4px;\n\tdisplay: block;\n\tmax-width: 100%;\n\tbackground: var(--chat-content-bg-color);\n\tcolor: var(--chat-color);\n\toverflow-wrap: break-word;\n\tposition: relative;\n\twhite-space: normal;\n\tbox-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2),\n\t\t0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\n}\n\n.chat-container {\n\theight: 100%;\n\tdisplay: flex;\n}\n</style>\n","import mod from \"-!../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../demo/node_modules/thread-loader/dist/cjs.js!../../demo/node_modules/babel-loader/lib/index.js!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatWindow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../demo/node_modules/thread-loader/dist/cjs.js!../../demo/node_modules/babel-loader/lib/index.js!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatWindow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChatWindow.vue?vue&type=template&id=1895d7c0&\"\nimport script from \"./ChatWindow.vue?vue&type=script&lang=js&\"\nexport * from \"./ChatWindow.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ChatWindow.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import ChatWindow from './ChatWindow'\n\nObject.defineProperty(ChatWindow, 'install', {\n\tconfigurable: false,\n\tenumerable: false,\n\tvalue(Vue) {\n\t\tVue.component('chat-window', ChatWindow)\n\t}\n})\n\nexport default ChatWindow\n","<template>\n\t<div class=\"window-container\">\n\t\t<div class=\"chat-forms\">\n\t\t\t<form @submit.prevent=\"createRoom\" v-if=\"addNewRoom\">\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tplaceholder=\"Add username to create a room\"\n\t\t\t\t\tv-model=\"addRoomUsername\"\n\t\t\t\t/>\n\t\t\t\t<button type=\"submit\" :disabled=\"disableForm || !addRoomUsername\">\n\t\t\t\t\tCreate Room\n\t\t\t\t</button>\n\t\t\t\t<button class=\"button-cancel\" @click=\"addNewRoom = false\">\n\t\t\t\t\tCancel\n\t\t\t\t</button>\n\t\t\t</form>\n\n\t\t\t<form @submit.prevent=\"addRoomUser\" v-if=\"inviteRoomId\">\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tplaceholder=\"Add user to the room\"\n\t\t\t\t\tv-model=\"invitedUsername\"\n\t\t\t\t/>\n\t\t\t\t<button type=\"submit\" :disabled=\"disableForm || !invitedUsername\">\n\t\t\t\t\tAdd User\n\t\t\t\t</button>\n\t\t\t\t<button class=\"button-cancel\" @click=\"inviteRoomId = null\">\n\t\t\t\t\tCancel\n\t\t\t\t</button>\n\t\t\t</form>\n\n\t\t\t<form @submit.prevent=\"deleteRoomUser\" v-if=\"removeRoomId\">\n\t\t\t\t<select v-model=\"removeUserId\">\n\t\t\t\t\t<option default value=\"\">Select User</option>\n\t\t\t\t\t<option v-for=\"user in removeUsers\" :key=\"user._id\" :value=\"user._id\">\n\t\t\t\t\t\t{{ user.username }}\n\t\t\t\t\t</option>\n\t\t\t\t</select>\n\t\t\t\t<button type=\"submit\" :disabled=\"disableForm || !removeUserId\">\n\t\t\t\t\tRemove User\n\t\t\t\t</button>\n\t\t\t\t<button class=\"button-cancel\" @click=\"removeRoomId = null\">\n\t\t\t\t\tCancel\n\t\t\t\t</button>\n\t\t\t</form>\n\t\t</div>\n\n\t\t<chat-window\n\t\t\theight=\"calc(100vh - 80px)\"\n\t\t\t:theme=\"theme\"\n\t\t\t:rooms=\"rooms\"\n\t\t\t:loadingRooms=\"loadingRooms\"\n\t\t\t:messages=\"messages\"\n\t\t\t:messagesLoaded=\"messagesLoaded\"\n\t\t\t:menuActions=\"menuActions\"\n\t\t\t@fetchMessages=\"fetchMessages\"\n\t\t\t@sendMessage=\"sendMessage\"\n\t\t\t@editMessage=\"editMessage\"\n\t\t\t@deleteMessage=\"deleteMessage\"\n\t\t\t@openFile=\"openFile\"\n\t\t\t@addRoom=\"addRoom\"\n\t\t\t@menuActionHandler=\"menuActionHandler\"\n\t\t\t@messageActionHandler=\"messageActionHandler\"\n\t\t/>\n\t</div>\n</template>\n\n<script>\nimport {\n\troomsRef,\n\tusersRef,\n\tfilesRef,\n\tdeleteDbField,\n\tfirebase\n} from '@/firestore'\nimport { parseTimestamp, isSameDay } from '@/utils/dates'\nimport ChatWindow from './../../src/ChatWindow'\n// import ChatWindow from 'vue-advanced-chat'\n// import 'vue-advanced-chat/dist/vue-advanced-chat.css'\n\nexport default {\n\tcomponents: {\n\t\tChatWindow\n\t},\n\n\tprops: ['currentUserId', 'theme'],\n\n\tdata() {\n\t\treturn {\n\t\t\tperPage: 20,\n\t\t\trooms: [],\n\t\t\tloadingRooms: true,\n\t\t\tmessages: [],\n\t\t\tmessagesLoaded: false,\n\t\t\tstart: null,\n\t\t\tend: null,\n\t\t\troomsListeners: [],\n\t\t\tlisteners: [],\n\t\t\tdisableForm: false,\n\t\t\taddNewRoom: null,\n\t\t\taddRoomUsername: '',\n\t\t\tinviteRoomId: null,\n\t\t\tinvitedUsername: '',\n\t\t\tremoveRoomId: null,\n\t\t\tremoveUserId: '',\n\t\t\tremoveUsers: [],\n\t\t\tmenuActions: [\n\t\t\t\t{ name: 'inviteUser', title: 'Invite User' },\n\t\t\t\t{ name: 'removeUser', title: 'Remove User' },\n\t\t\t\t{ name: 'deleteRoom', title: 'Delete Room' }\n\t\t\t]\n\t\t}\n\t},\n\n\tmounted() {\n\t\tthis.fetchRooms()\n\t},\n\n\tdestroyed() {\n\t\tthis.resetRooms()\n\t},\n\n\tmethods: {\n\t\tmessagesRef(roomId) {\n\t\t\treturn roomsRef.doc(roomId).collection('messages')\n\t\t},\n\t\tresetRooms() {\n\t\t\tthis.loadingRooms = true\n\t\t\tthis.rooms = []\n\t\t\tthis.roomsListeners.forEach(listener => listener())\n\t\t\tthis.resetMessages()\n\t\t},\n\n\t\tresetMessages() {\n\t\t\tthis.messages = []\n\t\t\tthis.messagesLoaded = false\n\t\t\tthis.start = null\n\t\t\tthis.end = null\n\t\t\tthis.listeners.forEach(listener => listener())\n\t\t\tthis.listeners = []\n\t\t},\n\n\t\tasync fetchRooms() {\n\t\t\tthis.resetRooms()\n\n\t\t\tconst rooms = await roomsRef\n\t\t\t\t.where('users', 'array-contains', this.currentUserId)\n\t\t\t\t.get()\n\n\t\t\tconst rawRoomUsers = []\n\t\t\tconst rawMessages = []\n\n\t\t\trooms.forEach(room => {\n\t\t\t\tconst rawUsers = []\n\n\t\t\t\troom.data().users.map(userId => {\n\t\t\t\t\tconst promise = usersRef\n\t\t\t\t\t\t.doc(userId)\n\t\t\t\t\t\t.get()\n\t\t\t\t\t\t.then(user => {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...user.data(),\n\t\t\t\t\t\t\t\t...{\n\t\t\t\t\t\t\t\t\troomId: room.id,\n\t\t\t\t\t\t\t\t\tusername: user.data().username\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\n\t\t\t\t\trawUsers.push(promise)\n\t\t\t\t})\n\n\t\t\t\trawUsers.map(users => rawRoomUsers.push(users))\n\t\t\t\trawMessages.push(this.getLastMessage(room))\n\t\t\t})\n\n\t\t\tlet roomList = []\n\n\t\t\tconst users = await Promise.all(rawRoomUsers)\n\n\t\t\tusers.map(user => {\n\t\t\t\tif (roomList[user.roomId]) roomList[user.roomId].users.push(user)\n\t\t\t\telse roomList[user.roomId] = { users: [user] }\n\t\t\t})\n\n\t\t\tconst roomMessages = await Promise.all(rawMessages).then(messages => {\n\t\t\t\treturn messages.map(message => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tlastMessage: this.formatLastMessage(message),\n\t\t\t\t\t\troomId: message.roomId\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\n\t\t\troomMessages.map(ms => (roomList[ms.roomId].lastMessage = ms.lastMessage))\n\n\t\t\tconst formattedRooms = []\n\n\t\t\tObject.keys(roomList).forEach(key => {\n\t\t\t\tconst room = roomList[key]\n\n\t\t\t\tconst roomContacts = room.users.filter(\n\t\t\t\t\tuser => user._id !== this.currentUserId\n\t\t\t\t)\n\n\t\t\t\troom.roomName =\n\t\t\t\t\troomContacts.map(user => user.username).join(', ') || 'Myself'\n\n\t\t\t\tconst roomAvatar =\n\t\t\t\t\troomContacts.length === 1 && roomContacts[0].avatar\n\t\t\t\t\t\t? roomContacts[0].avatar\n\t\t\t\t\t\t: require('@/assets/logo.svg')\n\n\t\t\t\tformattedRooms.push({\n\t\t\t\t\t...{\n\t\t\t\t\t\troomId: key,\n\t\t\t\t\t\tavatar: roomAvatar,\n\t\t\t\t\t\t...room\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\n\t\t\tthis.rooms = this.rooms.concat(formattedRooms)\n\t\t\tthis.loadingRooms = false\n\t\t\tthis.rooms.map((room, index) => this.listenLastMessage(room, index))\n\t\t},\n\n\t\tgetLastMessage(room) {\n\t\t\treturn this.messagesRef(room.id)\n\t\t\t\t.orderBy('timestamp', 'desc')\n\t\t\t\t.limit(1)\n\t\t\t\t.get()\n\t\t\t\t.then(messages => {\n\t\t\t\t\tconst array = []\n\t\t\t\t\tmessages.forEach(m => array.push(m.data()))\n\t\t\t\t\treturn { ...array[0], roomId: room.id }\n\t\t\t\t})\n\t\t},\n\n\t\tlistenLastMessage(room, index) {\n\t\t\tconst listener = this.messagesRef(room.roomId)\n\t\t\t\t.orderBy('timestamp', 'desc')\n\t\t\t\t.limit(1)\n\t\t\t\t.onSnapshot(messages => {\n\t\t\t\t\tmessages.forEach(message => {\n\t\t\t\t\t\tconst lastMessage = this.formatLastMessage(message.data())\n\t\t\t\t\t\tthis.rooms[index].lastMessage = lastMessage\n\t\t\t\t\t})\n\t\t\t\t})\n\n\t\t\tthis.roomsListeners.push(listener)\n\t\t},\n\n\t\tformatLastMessage(message) {\n\t\t\tif (!message.timestamp) return\n\t\t\tconst date = new Date(message.timestamp.seconds * 1000)\n\t\t\tconst timestampFormat = isSameDay(date, new Date()) ? 'HH:mm' : 'DD/MM/YY'\n\n\t\t\tlet timestamp = parseTimestamp(message.timestamp, timestampFormat)\n\t\t\tif (timestampFormat === 'HH:mm') timestamp = 'Today, ' + timestamp\n\n\t\t\tlet content = message.content\n\t\t\tif (message.file) content = `${message.file.name}.${message.file.type}`\n\t\t\tif (message.deleted) content = 'This message was deleted'\n\n\t\t\treturn {\n\t\t\t\tcontent,\n\t\t\t\ttimestamp,\n\t\t\t\tseen: message.sender_id === this.currentUserId ? message.seen : null,\n\t\t\t\tnew:\n\t\t\t\t\tmessage.sender_id !== this.currentUserId &&\n\t\t\t\t\t(!message.seen || !message.seen[this.currentUserId])\n\t\t\t}\n\t\t},\n\n\t\tfetchMessages({ room, options = {} }) {\n\t\t\tif (options.reset) this.resetMessages()\n\n\t\t\tif (this.end && !this.start) return (this.messagesLoaded = true)\n\n\t\t\tlet ref = this.messagesRef(room.roomId)\n\n\t\t\tlet query = ref.orderBy('timestamp', 'desc').limit(this.perPage)\n\n\t\t\tif (this.start) query = query.startAfter(this.start)\n\n\t\t\tquery.get().then(messages => {\n\t\t\t\tif (messages.empty) this.messagesLoaded = true\n\n\t\t\t\tif (this.start) this.end = this.start\n\t\t\t\tthis.start = messages.docs[messages.docs.length - 1]\n\n\t\t\t\tlet listenerQuery = ref.orderBy('timestamp')\n\n\t\t\t\tif (this.start) listenerQuery = listenerQuery.startAfter(this.start)\n\t\t\t\tif (this.end) listenerQuery = listenerQuery.endAt(this.end)\n\n\t\t\t\tmessages.forEach(message => {\n\t\t\t\t\tconst formattedMessage = this.formatMessage(room, message)\n\t\t\t\t\tthis.messages.unshift(formattedMessage)\n\t\t\t\t})\n\n\t\t\t\tconst listener = listenerQuery.onSnapshot(snapshots => {\n\t\t\t\t\tthis.listenMessages(snapshots, room)\n\t\t\t\t})\n\t\t\t\tthis.listeners.push(listener)\n\t\t\t})\n\t\t},\n\n\t\tlistenMessages(messages, room) {\n\t\t\tmessages.forEach(message => {\n\t\t\t\tconst formattedMessage = this.formatMessage(room, message)\n\t\t\t\tconst messageIndex = this.messages.findIndex(m => m._id === message.id)\n\n\t\t\t\tif (messageIndex === -1) {\n\t\t\t\t\tthis.messages = this.messages.concat([formattedMessage])\n\t\t\t\t} else {\n\t\t\t\t\tthis.$set(this.messages, messageIndex, formattedMessage)\n\t\t\t\t}\n\n\t\t\t\tthis.markMessagesSeen(room, message)\n\t\t\t})\n\t\t},\n\n\t\tmarkMessagesSeen(room, message) {\n\t\t\tif (\n\t\t\t\tmessage.data().sender_id !== this.currentUserId &&\n\t\t\t\t(!message.data().seen || !message.data().seen[this.currentUserId])\n\t\t\t) {\n\t\t\t\tthis.messagesRef(room.roomId)\n\t\t\t\t\t.doc(message.id)\n\t\t\t\t\t.update({\n\t\t\t\t\t\t[`seen.${this.currentUserId}`]: new Date()\n\t\t\t\t\t})\n\t\t\t}\n\t\t},\n\n\t\tformatMessage(room, message) {\n\t\t\tconst senderUser = room.users.find(\n\t\t\t\tuser => message.data().sender_id === user._id\n\t\t\t)\n\n\t\t\tconst { sender_id, timestamp } = message.data()\n\n\t\t\treturn {\n\t\t\t\t...message.data(),\n\t\t\t\t...{\n\t\t\t\t\tsender_id: sender_id === this.currentUserId ? 'me' : sender_id,\n\t\t\t\t\t_id: message.id,\n\t\t\t\t\tseconds: timestamp.seconds,\n\t\t\t\t\ttimestamp: parseTimestamp(timestamp, 'HH:mm'),\n\t\t\t\t\tdate: parseTimestamp(timestamp, 'DD MMMM YYYY'),\n\t\t\t\t\tusername: senderUser ? senderUser.username : null\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tasync sendMessage({ content, roomId, file, replyMessage }) {\n\t\t\tconst message = {\n\t\t\t\tsender_id: this.currentUserId,\n\t\t\t\tcontent,\n\t\t\t\ttimestamp: new Date()\n\t\t\t}\n\n\t\t\tif (file) {\n\t\t\t\tmessage.file = {\n\t\t\t\t\tname: file.name,\n\t\t\t\t\tsize: file.size,\n\t\t\t\t\ttype: file.type,\n\t\t\t\t\turl: file.localUrl\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (replyMessage) {\n\t\t\t\tmessage.replyMessage = {\n\t\t\t\t\t_id: replyMessage._id,\n\t\t\t\t\tcontent: replyMessage.content,\n\t\t\t\t\tsender_id:\n\t\t\t\t\t\treplyMessage.sender_id === 'me'\n\t\t\t\t\t\t\t? this.currentUserId\n\t\t\t\t\t\t\t: replyMessage.sender_id\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst { id } = await this.messagesRef(roomId).add(message)\n\n\t\t\tif (file) this.uploadFile({ file, messageId: id, roomId })\n\t\t},\n\n\t\topenFile(message) {\n\t\t\twindow.open(message.file.url, '_blank')\n\t\t},\n\n\t\tasync editMessage({ messageId, newContent, roomId, file }) {\n\t\t\tconst newMessage = { edited: new Date() }\n\t\t\tnewMessage.content = newContent\n\n\t\t\tif (file) {\n\t\t\t\tnewMessage.file = {\n\t\t\t\t\tname: file.name,\n\t\t\t\t\tsize: file.size,\n\t\t\t\t\ttype: file.type,\n\t\t\t\t\turl: file.url || file.localUrl\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tnewMessage.file = deleteDbField\n\t\t\t}\n\n\t\t\tawait this.messagesRef(roomId)\n\t\t\t\t.doc(messageId)\n\t\t\t\t.update(newMessage)\n\t\t},\n\n\t\tasync deleteMessage({ messageId, roomId }) {\n\t\t\tawait this.messagesRef(roomId)\n\t\t\t\t.doc(messageId)\n\t\t\t\t.update({ deleted: new Date() })\n\t\t},\n\n\t\tasync uploadFile({ file, messageId, roomId }) {\n\t\t\tconst uploadFileRef = filesRef\n\t\t\t\t.child(this.currentUserId)\n\t\t\t\t.child(messageId)\n\t\t\t\t.child(`${file.name}.${file.type}`)\n\n\t\t\tawait uploadFileRef.put(file.blob, { contentType: file.type })\n\t\t\tconst url = await uploadFileRef.getDownloadURL()\n\n\t\t\tawait this.messagesRef(roomId)\n\t\t\t\t.doc(messageId)\n\t\t\t\t.update({\n\t\t\t\t\t['file.url']: url\n\t\t\t\t})\n\t\t},\n\n\t\tmenuActionHandler({ action, roomId }) {\n\t\t\tswitch (action.name) {\n\t\t\t\tcase 'inviteUser':\n\t\t\t\t\treturn this.inviteUser(roomId)\n\t\t\t\tcase 'removeUser':\n\t\t\t\t\treturn this.removeUser(roomId)\n\t\t\t\tcase 'deleteRoom':\n\t\t\t\t\treturn this.deleteRoom(roomId)\n\t\t\t}\n\t\t},\n\n\t\tmessageActionHandler() {\n\t\t\t// do something\n\t\t},\n\n\t\taddRoom() {\n\t\t\tthis.resetForms()\n\t\t\tthis.addNewRoom = true\n\t\t},\n\n\t\tasync createRoom() {\n\t\t\tthis.disableForm = true\n\n\t\t\tconst { id } = await usersRef.add({ username: this.addRoomUsername })\n\t\t\tawait usersRef.doc(id).update({ _id: id })\n\t\t\tawait roomsRef.add({ users: [id, this.currentUserId] })\n\n\t\t\tthis.addNewRoom = false\n\t\t\tthis.addRoomUsername = ''\n\t\t\tthis.fetchRooms()\n\t\t},\n\n\t\tinviteUser(roomId) {\n\t\t\tthis.resetForms()\n\t\t\tthis.inviteRoomId = roomId\n\t\t},\n\n\t\tasync addRoomUser() {\n\t\t\tthis.disableForm = true\n\n\t\t\tconst { id } = await usersRef.add({ username: this.invitedUsername })\n\t\t\tawait usersRef.doc(id).update({ _id: id })\n\n\t\t\tawait roomsRef\n\t\t\t\t.doc(this.inviteRoomId)\n\t\t\t\t.update({ users: firebase.firestore.FieldValue.arrayUnion(id) })\n\n\t\t\tthis.inviteRoomId = null\n\t\t\tthis.invitedUsername = ''\n\t\t\tthis.fetchRooms()\n\t\t},\n\n\t\tremoveUser(roomId) {\n\t\t\tthis.resetForms()\n\t\t\tthis.removeRoomId = roomId\n\t\t\tthis.removeUsers = this.rooms.find(room => room.roomId === roomId).users\n\t\t},\n\n\t\tasync deleteRoomUser() {\n\t\t\tthis.disableForm = true\n\n\t\t\tawait roomsRef.doc(this.removeRoomId).update({\n\t\t\t\tusers: firebase.firestore.FieldValue.arrayRemove(this.removeUserId)\n\t\t\t})\n\n\t\t\tthis.removeRoomId = null\n\t\t\tthis.removeUserId = ''\n\t\t\tthis.fetchRooms()\n\t\t},\n\n\t\tasync deleteRoom(roomId) {\n\t\t\tconst ref = this.messagesRef(roomId)\n\n\t\t\tref.get().then(res => {\n\t\t\t\tif (res.empty) return\n\t\t\t\tres.docs.map(doc => ref.doc(doc.id).delete())\n\t\t\t})\n\n\t\t\tawait roomsRef.doc(roomId).delete()\n\n\t\t\tconst i = this.rooms.map(room => room.roomId).indexOf(roomId)\n\t\t\tif (i !== -1) this.rooms.splice(i, 1)\n\t\t},\n\n\t\tresetForms() {\n\t\t\tthis.disableForm = false\n\t\t\tthis.addNewRoom = null\n\t\t\tthis.addRoomUsername = ''\n\t\t\tthis.inviteRoomId = null\n\t\t\tthis.invitedUsername = ''\n\t\t\tthis.removeRoomId = null\n\t\t\tthis.removeUserId = ''\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.window-container {\n\twidth: 100%;\n}\n\n.chat-forms {\n\tpadding-bottom: 20px;\n\n\tform {\n\t\tpadding-top: 20px;\n\t}\n\n\tinput {\n\t\tpadding: 5px;\n\t\twidth: 180px;\n\t\theight: 21px;\n\t\tborder-radius: 4px;\n\t\tborder: 1px solid #d2d6da;\n\t\toutline: none;\n\t\tfont-size: 14px;\n\t\tvertical-align: middle;\n\n\t\t&::placeholder {\n\t\t\tcolor: #9ca6af;\n\t\t}\n\t}\n\n\tbutton {\n\t\tbackground: #1976d2;\n\t\tcolor: #fff;\n\t\toutline: none;\n\t\tcursor: pointer;\n\t\tborder-radius: 4px;\n\t\tpadding: 8px 12px;\n\t\tmargin-left: 10px;\n\t\tborder: none;\n\t\tfont-size: 14px;\n\t\ttransition: 0.3s;\n\t\tvertical-align: middle;\n\n\t\t&:hover {\n\t\t\topacity: 0.8;\n\t\t}\n\n\t\t&:active {\n\t\t\topacity: 0.6;\n\t\t}\n\n\t\t&:disabled {\n\t\t\tcursor: initial;\n\t\t\tbackground: #c6c9cc;\n\t\t\topacity: 0.6;\n\t\t}\n\t}\n\n\t.button-cancel {\n\t\tcolor: #a8aeb3;\n\t\tbackground: none;\n\t\tmargin-left: 5px;\n\t}\n\n\tselect {\n\t\tvertical-align: middle;\n\t\theight: 33px;\n\t\twidth: 120px;\n\t\tfont-size: 13px;\n\t}\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatContainer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatContainer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChatContainer.vue?vue&type=template&id=29157765&scoped=true&\"\nimport script from \"./ChatContainer.vue?vue&type=script&lang=js&\"\nexport * from \"./ChatContainer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ChatContainer.vue?vue&type=style&index=0&id=29157765&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"29157765\",\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<div>\n\t\t<div class=\"app-container\">\n\t\t\t<!-- <div>\n\t\t\t\t<button @click=\"resetData\">Clear Data</button>\n\t\t\t\t<button @click=\"addData\" :disabled=\"updatingData\">Add Data</button>\n\t\t\t</div> -->\n\t\t\t<span class=\"user-logged\">Logged as</span>\n\t\t\t<select v-model=\"currentUserId\">\n\t\t\t\t<option v-for=\"user in users\" :key=\"user._id\" :value=\"user._id\">\n\t\t\t\t\t{{ user.username }}\n\t\t\t\t</option>\n\t\t\t</select>\n\n\t\t\t<div class=\"button-theme\">\n\t\t\t\t<button @click=\"theme = 'light'\" class=\"button-light\">Light</button>\n\t\t\t\t<button @click=\"theme = 'dark'\" class=\"button-dark\">Dark</button>\n\t\t\t</div>\n\n\t\t\t<chat-container\n\t\t\t\t:currentUserId=\"currentUserId\"\n\t\t\t\t:theme=\"theme\"\n\t\t\t\tv-if=\"showChat\"\n\t\t\t/>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport { roomsRef, usersRef } from '@/firestore'\nimport ChatContainer from './ChatContainer'\n\nexport default {\n\tcomponents: {\n\t\tChatContainer\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\ttheme: 'light',\n\t\t\tshowChat: true,\n\t\t\tusers: [\n\t\t\t\t{\n\t\t\t\t\t_id: '6R0MijpK6M4AIrwaaCY2',\n\t\t\t\t\tusername: 'Luke',\n\t\t\t\t\tavatar: 'https://66.media.tumblr.com/avatar_c6a8eae4303e_512.pnj'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t_id: 'SGmFnBZB4xxMv9V4CVlW',\n\t\t\t\t\tusername: 'Leia',\n\t\t\t\t\tavatar: 'https://avatarfiles.alphacoders.com/184/thumb-184913.jpg'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t_id: '6jMsIXUrBHBj7o2cRlau',\n\t\t\t\t\tusername: 'Yoda',\n\t\t\t\t\tavatar:\n\t\t\t\t\t\t'https://vignette.wikia.nocookie.net/teamavatarone/images/4/45/Yoda.jpg/revision/latest?cb=20130224160049'\n\t\t\t\t}\n\t\t\t],\n\t\t\tcurrentUserId: '6R0MijpK6M4AIrwaaCY2',\n\t\t\tupdatingData: false\n\t\t}\n\t},\n\n\twatch: {\n\t\tcurrentUserId() {\n\t\t\tthis.showChat = false\n\t\t\tsetTimeout(() => (this.showChat = true), 150)\n\t\t}\n\t},\n\n\tmethods: {\n\t\tresetData() {\n\t\t\troomsRef.get().then(val => {\n\t\t\t\tval.forEach(async val => {\n\t\t\t\t\tconst ref = roomsRef.doc(val.id).collection('messages')\n\n\t\t\t\t\tawait ref.get().then(res => {\n\t\t\t\t\t\tif (res.empty) return\n\t\t\t\t\t\tres.docs.map(doc => ref.doc(doc.id).delete())\n\t\t\t\t\t})\n\n\t\t\t\t\troomsRef.doc(val.id).delete()\n\t\t\t\t})\n\t\t\t})\n\n\t\t\tusersRef.get().then(val => {\n\t\t\t\tval.forEach(val => {\n\t\t\t\t\tusersRef.doc(val.id).delete()\n\t\t\t\t})\n\t\t\t})\n\t\t},\n\t\tasync addData() {\n\t\t\tthis.updatingData = true\n\n\t\t\tconst user1 = this.users[0]\n\t\t\tawait usersRef.doc(user1._id).set(user1)\n\n\t\t\tconst user2 = this.users[1]\n\t\t\tawait usersRef.doc(user2._id).set(user2)\n\n\t\t\tconst user3 = this.users[2]\n\t\t\tawait usersRef.doc(user3._id).set(user3)\n\n\t\t\tawait roomsRef.add({ users: [user1._id, user2._id] })\n\t\t\tawait roomsRef.add({ users: [user1._id, user3._id] })\n\t\t\tawait roomsRef.add({ users: [user2._id, user3._id] })\n\t\t\tawait roomsRef.add({ users: [user1._id, user2._id, user3._id] })\n\n\t\t\tthis.updatingData = false\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\">\nbody {\n\tbackground: #fafafa;\n}\n\n.app-container {\n\tfont-family: 'Quicksand', sans-serif;\n\tline-height: 1.5;\n\tpadding: 10px 20px 20px;\n\n\t// * {\n\t// \tfont-weight: 300;\n\t// }\n}\n\nselect {\n\theight: 20px;\n\toutline: none;\n\tborder: 1px solid #e0e2e4;\n\tbackground: #fff;\n}\n\n.user-logged {\n\tfont-size: 12px;\n\tmargin-right: 5px;\n}\n\n.button-theme {\n\tfloat: right;\n\n\t.button-light {\n\t\tbackground: #fff;\n\t\tborder: 1px solid #46484e;\n\t\tcolor: #46484e;\n\t}\n\n\t.button-dark {\n\t\tbackground: #1c1d21;\n\t\tborder: 1px solid #1c1d21;\n\t}\n\n\tbutton {\n\t\tcolor: #fff;\n\t\toutline: none;\n\t\tcursor: pointer;\n\t\tborder-radius: 4px;\n\t\tpadding: 6px 12px;\n\t\tmargin-left: 10px;\n\t\tborder: none;\n\t\tfont-size: 14px;\n\t\ttransition: 0.3s;\n\t\tvertical-align: middle;\n\n\t\t&:hover {\n\t\t\topacity: 0.8;\n\t\t}\n\n\t\t&:active {\n\t\t\topacity: 0.6;\n\t\t}\n\t}\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=2b5ef296&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\n\nVue.config.productionTip = false\n\nnew Vue({\n\trender: h => h(App)\n}).$mount('#app')\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","export function roomsValid(obj) {\n\tconst roomsValidate = [\n\t\t{ key: 'roomId', type: ['string', 'number'] },\n\t\t{ key: 'roomName', type: ['string'] },\n\t\t{ key: 'users', type: ['array'] }\n\t]\n\n\tconst validate = (obj, props) => {\n\t\treturn props.every(prop => {\n\t\t\tlet validType = false\n\n\t\t\tif (prop.type[0] === 'array' && Array.isArray(obj[prop.key])) {\n\t\t\t\tvalidType = true\n\t\t\t} else if (prop.type.find(t => t === typeof obj[prop.key])) {\n\t\t\t\tvalidType = true\n\t\t\t}\n\n\t\t\treturn validType && obj.hasOwnProperty(prop.key) && obj[prop.key]\n\t\t})\n\t}\n\n\treturn validate(obj, roomsValidate)\n}\n\nexport function partcipantsValid(obj) {\n\tconst participantsValidate = [\n\t\t{ key: '_id', type: ['string', 'number'] },\n\t\t{ key: 'username', type: ['string'] }\n\t]\n\n\tconst validate = (obj, props) => {\n\t\treturn props.every(prop => {\n\t\t\tconst validType = prop.type.find(t => t === typeof obj[prop.key])\n\t\t\treturn validType && obj.hasOwnProperty(prop.key) && obj[prop.key]\n\t\t})\n\t}\n\n\treturn validate(obj, participantsValidate)\n}\n","import mod from \"-!../../demo/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../demo/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../demo/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../demo/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../demo/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatWindow.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../demo/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../demo/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../demo/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../demo/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../demo/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatWindow.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../demo/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../demo/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../demo/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../demo/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./EmojiPicker.vue?vue&type=style&index=0&id=98bb719a&scoped=true&lang=css&\"; export default mod; export * from \"-!../../demo/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../demo/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../demo/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../demo/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./EmojiPicker.vue?vue&type=style&index=0&id=98bb719a&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/logo.9a45fc76.svg\";","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatContainer.vue?vue&type=style&index=0&id=29157765&lang=scss&scoped=true&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatContainer.vue?vue&type=style&index=0&id=29157765&lang=scss&scoped=true&\"","import mod from \"-!../../demo/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../demo/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../demo/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../demo/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../demo/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomsList.vue?vue&type=style&index=0&id=d7be5a2a&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../demo/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../demo/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../demo/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../demo/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../demo/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomsList.vue?vue&type=style&index=0&id=d7be5a2a&lang=scss&scoped=true&\"","import mod from \"-!../../demo/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../demo/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../demo/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../demo/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../demo/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./MessagesList.vue?vue&type=style&index=0&id=e3140410&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../demo/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../demo/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../demo/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../demo/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../demo/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./MessagesList.vue?vue&type=style&index=0&id=e3140410&lang=scss&scoped=true&\"","import mod from \"-!../../demo/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../demo/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../demo/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../demo/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../demo/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatMessage.vue?vue&type=style&index=0&id=46d44830&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../demo/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../demo/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../demo/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../demo/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../demo/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatMessage.vue?vue&type=style&index=0&id=46d44830&lang=scss&scoped=true&\""],"sourceRoot":""}